"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[362],{7362:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var n=s(3216),a=s(3003),i=s(5043),o=s(8015),l=s(3768),r=s(9379),d=s(9722),c=s(5989),p=s.n(c),u=s(5475);const m="data:image/png;base64,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";var h=s(6326),x=s(7574),g=s(591),b=s(782),y=s(7877),f=s(6221),j=s(2679),v=s(8595),N=s(1052),w=s(1939),C=s(7936),S=s(579);function A(){var e,t;const s={"Content-Type":"application/json","pos-token":localStorage.getItem("pos-token")},[o,c]=(0,i.useState)(!1),A=(0,n.g)(),{data:k}=(0,N.I9)(),[D,I]=(0,i.useState)({x:window.screen.availWidth/3,y:window.screen.availHeight/3}),[Q,O]=(0,i.useState)(!1),[U,R]=(0,i.useState)({x:0,y:0}),[B,T]=(0,i.useState)("default"),H=(0,i.useRef)(null),[G,P]=(0,i.useState)(null!==(e=localStorage.getItem("_keyboard_scale"))&&void 0!==e?e:1),q={marginTop:".5rem",alignItems:"center",borderRadius:"10px",minHeight:"80px",border:"2px dashed",backgroundColor:"#fff",position:"relative"},F=e=>{e.stopPropagation(),e.preventDefault();const t=e.target.dataset.id;d.A.get("config/notification/delete/".concat(t)).then((e=>{let{data:s}=e;console.log(s),s.status&&we(N.S5.util.updateQueryData("getNotifications",void 0,(e=>{e.notifications=e.notifications.filter((e=>e.id!==parseInt(t)))})))}))},[W,E]=(0,i.useState)(null!==(t=null===k||void 0===k?void 0:k.notifications)&&void 0!==t?t:[]);(0,i.useEffect)((()=>{var e;E(null!==(e=null===k||void 0===k?void 0:k.notifications)&&void 0!==e?e:[])}),[k]);const M=(0,i.useRef)(null),L=(0,n.zy)(),{setSearchQuery:Z,searchQuery:Y,sessions:z,setSession:V,activeSession:X,setActiveSession:K,displayImage:J,handleImageDisplay:_,sale:$,setType:ee,setFocused:te,focused:se}=(0,h.S)(),[ne,ae]=(0,i.useState)(!1),ie="/dashboard"!==L.pathname,{cartProducts:oe,split:le,currency:re,appKey:de,inventory:ce}=(0,a.d4)((e=>e.auth)),[pe,ue]=(0,i.useState)(ce),[me,he]=(0,i.useState)(de),[xe,ge]=(0,i.useState)(!1),[be,ye]=(0,i.useState)(0),[fe,je]=(0,i.useState)(1),[ve,Ne]=(0,i.useState)([]),we=(0,a.wA)(),Ce=(0,n.Zp)(),Se=async e=>{e.preventDefault();try{if(!de&&!me)return c(!0),ae(!ne);let e=de||me;we({type:"SET_APP_KEY",payload:e}),we({type:"LOADING"});const{data:t}=await d.A.get("https://pos.dftech.in/sync-products/".concat(e));if(t.status){l.Ay.success(t.message);let e=new FormData;const s=(0,v.Xz)("data:application/json;base64,"+t.file,"client.json");e.append("file",s);const{data:n}=await d.A.post("products/sync",e,{headers:{Accept:"application/json","Content-Type":"multipart/form-data","pos-token":localStorage.getItem("pos-token")}});n.status&&(l.Ay.success("Importing completed"),setTimeout((()=>window.location.reload()),2400))}else l.Ay.error(t.message)}catch(t){console.log(t.message),l.Ay.error("Couln't fetch products right now!")}we({type:"STOP_LOADING"})};(0,i.useEffect)((()=>(Z(Y),()=>Z(""))),[Y,Z]);return(0,i.useEffect)((()=>(K(z[0]),()=>K(z[0]))),[z]),A&&"customer"===A.type?null:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("nav",{className:"navbar default-layout col-lg-12 col-12 p-0 d-flex align-items-top flex-row no-print",style:{zIndex:999},children:[ie&&(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"text-center navbar-brand-wrapper d-flex align-items-center justify-content-start",children:[(0,S.jsx)("div",{className:"me-3",children:(0,S.jsx)(u.N_,{to:"/dashboard",className:"nav-link",children:(0,S.jsx)("i",{className:"mdi mdi-home menu-icon fs-3"})})}),(0,S.jsx)("div",{})]})}),(0,S.jsxs)("div",{className:"navbar-menu-wrapper d-flex align-items-top",style:{width:ie?"":"100%"},children:[ie&&(-1===L.pathname.indexOf("/pos")?(0,S.jsx)("li",{className:"navbar-nav nav-item",children:(0,S.jsx)("button",{className:"btn btn-sm",onClick:()=>Ce(-1),children:(0,S.jsx)("i",{style:{fontSize:"1.8rem"},className:"mdi mdi-arrow-left"})})}):(0,S.jsx)("button",{className:"btn btn-sm btn-".concat($?"success":"warning"),onClick:e=>{let t=!$;localStorage.setItem("_is_sale",t),ee(t)},children:$?"Selling":"Returning"})),["/pos","/pos/","/payment"].includes(L.pathname)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("li",{className:"navbar-nav nav-item ms-3",onClick:()=>{var e;null===(e=window.electronAPI)||void 0===e||e.reloadWindow(),localStorage.setItem("cartSessions",JSON.stringify([...z,z[z.length-1]+1])),V([...z,z[z.length-1]+1])},children:(0,S.jsx)("div",{className:"box",children:" + "})}),(0,S.jsx)("ul",{className:"navbar-nav ms-1 sessions",children:z.map((e=>(0,S.jsx)("li",{className:"nav-item fw-semibold ms-1",onClick:()=>{var t;K(e),null===(t=window.electronAPI)||void 0===t||t.reloadWindow()},children:(0,S.jsxs)("div",{className:"box ".concat(X===e?"active":""),children:[" ",e," "]})},e)))}),(0,S.jsx)("button",{className:"btn ".concat(le?"btn-success":"btn-outline-success"," btn-sm ms-2 split-btn text-dark"),type:"button",onClick:()=>{let e=document.querySelector(".split-btn");we({type:"SPLIT",payload:e.classList.contains("btn-outline-success")})},title:"Split products",children:"Split Products"}),(0,S.jsx)("button",{className:"btn btn-outline-success btn-light btn-sm ms-2 quick-btn text-dark",type:"button",onClick:()=>{we({type:"LOADING"}),ge(!xe),d.A.get("orders/last-order").then((e=>{var t;let{data:s}=e;const{products:n,session:a}=s,i=JSON.parse(a.data);ye(s.order.amount),je(s.order.session_id+":"+s.order.cash_register_id);let o=Object.values(n).map((e=>(0,r.A)((0,r.A)({},e),{},{stock:null===i||void 0===i?void 0:i.quantity[e.id]})));if(-1!==(null!==(t=null===i||void 0===i?void 0:i.products)&&void 0!==t?t:[]).indexOf("quick")){let e=o.reduce(((e,t)=>e+parseFloat(t.price*(null===i||void 0===i?void 0:i.quantity[t.id]))),0),t=s.order.amount-e;o=[...o,{name:"Others",price:t,id:"quick",stock:null===i||void 0===i?void 0:i.quantity.quick}]}Ne(o)})).catch().finally((()=>we({type:"STOP_LOADING"})))},children:"Last Receipt"}),(0,S.jsx)("button",{className:"btn btn-outline-success btn-light btn-sm ms-2 quick-btn text-dark",type:"button",onClick:e=>{var t;e.preventDefault(),we({type:"CHOOSEN_PRODUCT",payload:(0,r.A)((0,r.A)({},oe),{},{[X]:[...null!==(t=oe[X])&&void 0!==t?t:[],{id:"quick",name:"Others",price:0,stock:1,other:!0,weight:null}]})})},title:"Quick add product to cart",children:"Quick Add"}),(0,S.jsx)("button",{className:"btn btn-outline-success btn-light btn-sm ms-2 quick-btn text-dark",type:"button",children:"Open drawer"})]}),"/products"===L.pathname&&(0,S.jsx)(u.N_,{to:"/product/create",className:"btn-success btn btn-md btn-rounded",children:" New "}),(0,S.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,S.jsxs)("li",{className:"nav-item d-flex align-items-center",children:["/pos"===L.pathname&&(0,S.jsxs)("button",{className:"btn btn-rounded btn-sm btn-warning fs-4",onClick:()=>_(!J),children:[J?"Hide":"Show"," Images"]}),(0,S.jsx)("button",{className:"btn",onClick:()=>window.location.reload(),title:"Refresh",children:(0,S.jsx)("i",{style:{fontSize:"2rem"},className:"mdi mdi-refresh"})})]}),"/pos"===L.pathname&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("li",{className:"nav-item",onClick:e=>{I((0,r.A)((0,r.A)({},D),{},{y:e.target.getBoundingClientRect().y+50})),te(!se)},children:(0,S.jsxs)("form",{className:"search-form",action:"#",children:[(0,S.jsx)("i",{className:"icon-search"}),(0,S.jsx)("input",{type:"search",className:"form-control",value:Y,placeholder:"Search Here",title:"Search here",style:se?{backgroundColor:"transparent",borderBottom:"1px solid #212121",borderRadius:0,paddingLeft:"30px",cursor:"text",outline:0,width:"140px"}:{},onInput:e=>Z(e.target.value)})]})})}),(0,S.jsxs)("li",{className:"nav-item dropdown",children:[(0,S.jsxs)(u.N_,{className:"nav-link count-indicator",id:"notificationDropdown",href:"#","data-bs-toggle":"dropdown",children:[(0,S.jsx)("i",{className:"mdi mdi-bell"}),W.length?(0,S.jsx)("span",{className:"count"}):null]}),(0,S.jsxs)("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0","aria-labelledby":"notificationDropdown",style:{borderRadius:8},children:[(0,S.jsxs)(u.N_,{className:"dropdown-item py-3 border-bottom",children:[(0,S.jsxs)("p",{className:"mb-0 fw-medium float-start",children:[" You have ",W.length," notifications "]}),(0,S.jsx)("span",{className:"badge badge-pill badge-primary float-end",onClick:e=>{e.stopPropagation(),e.preventDefault(),d.A.get("config/clear-notifications",{headers:s}).then((e=>{let{data:t}=e;t.status&&we(N.S5.util.updateQueryData("getNotifications",void 0,(e=>{e.notifications=[]})))}))},children:" Clear all "})]}),W.map((e=>(0,S.jsxs)(u.N_,{className:"dropdown-item preview-item py-2 position-relative","data-id":e.id,children:[(0,S.jsx)("div",{className:"preview-thumbnail",children:(0,S.jsx)("i",{className:"mdi mdi-alert m-auto text-primary"})}),(0,S.jsxs)("div",{className:"preview-item-content",children:[(0,S.jsx)("h5",{className:"preview-subject fw-normal text-dark mb-1",children:e.content}),(0,S.jsx)("p",{className:"fw-light small-text mb-0"})]}),(0,S.jsx)("span",{onClick:F,"data-id":e.id,className:"fa fa-close align-items-center position-absolute align-self-center",style:{right:20}})]},e.id)))]})]}),(0,S.jsxs)("li",{className:"nav-item dropdown d-none d-lg-block user-dropdown",children:[(0,S.jsx)(u.N_,{className:"nav-link",id:"UserDropdown",to:"#","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,S.jsx)("img",{className:"img-xs rounded-circle",src:m,alt:""})}),(0,S.jsxs)("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown","aria-labelledby":"UserDropdown",style:{borderRadius:8},children:[(0,S.jsxs)("div",{className:"dropdown-header text-center",children:[(0,S.jsx)("img",{className:"img-md rounded-circle",src:m,alt:""}),(0,S.jsx)("p",{className:"mb-1 mt-3 fw-semibold",children:" default "}),(0,S.jsx)("p",{className:"fw-light text-muted mb-0",children:" default "})]}),(0,S.jsxs)(u.N_,{className:"dropdown-item",children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-account-outline text-primary me-2"}),"My Profile ",(0,S.jsx)("span",{className:"badge badge-pill badge-danger"})]}),(0,S.jsxs)(u.N_,{className:"dropdown-item d-flex",style:{justifyContent:"space-between"},to:"#",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-cogs text-primary me-2"})," Inventory"]}),(0,S.jsxs)("div",{onClick:async()=>{let e=!pe;we({type:"LOADING"});try{const{data:t}=await d.A.get("config/inventory/".concat(e),{headers:s});t.status?(ue(e),we({type:"INVENTORY_IS",payload:e}),l.Ay.success("Inventory is switched ".concat(e?"on":"off","!")),we({type:"RESET_KART"})):l.Ay.error("Didn't worked!")}catch(t){l.Ay.error("Didn't worked!")}we({type:"STOP_LOADING"})},children:[(0,S.jsx)("input",{type:"checkbox",style:{display:"none"},id:"btn1999",checked:pe,onChange:()=>{},className:"status"}),(0,S.jsx)("label",{htmlFor:"btn1999"}),(0,S.jsx)("div",{className:"plate"})]})]}),(0,S.jsxs)(u.N_,{to:"#",className:"dropdown-item cache-clear",onClick:Se,children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-refresh text-primary me-2"}),"Sync Products"]}),(0,S.jsxs)(u.N_,{className:"dropdown-item",to:"#",onClick:async()=>we({type:"LOGOUT"}),children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-power text-primary me-2"}),"Sign Out"]})]})]})]}),(0,S.jsx)("button",{className:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",type:"button","data-bs-toggle":"offcanvas",children:(0,S.jsx)("span",{className:"mdi mdi-menu"})})]})]}),-1!==L.pathname.indexOf("/pos")&&se&&(0,S.jsx)(C.A,{pos:D.y}),(0,S.jsxs)(x.A,{isOpen:xe,children:[(0,S.jsx)(g.A,{children:(0,S.jsx)("p",{style:{fontSize:"1.5rem"},children:"Previous Order Details"})}),(0,S.jsx)(b.A,{children:(0,S.jsx)("div",{className:"col-lg-12",id:"receipt",children:(0,S.jsxs)("div",{className:"container",style:{backgroundColor:"white",paddingBottom:"10px",borderRadius:"15px",fontSize:"larger"},children:[(0,S.jsx)("div",{className:"row",style:{display:"flex",fontSize:"larger"},children:(0,S.jsxs)("div",{className:"d-grid",style:{justifyContent:"center",textAlign:"center",width:"100%",display:"grid"},children:[!1,(0,S.jsx)("img",{src:w,alt:"",style:{filter:"grayscale(1)"},height:140}),(0,S.jsxs)("h2",{className:"sessionID",children:["#",fe]})]})}),(0,S.jsx)("div",{className:"row",ref:M,children:(0,S.jsxs)("div",{className:"receipt",style:{width:"100%",background:"#fff"},children:[ve.map(((e,t)=>(0,S.jsxs)("div",{className:"row",style:q,children:[(0,S.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[(0,S.jsx)("b",{style:{fontSize:e.name.length>35?"medium":"larger",fontWeight:900,maxWidth:"85%"},children:e.name}),(0,S.jsxs)("strong",{children:[" Qty: ",e.stock]})]}),(0,S.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"},children:[(0,S.jsxs)("p",{style:{fontSize:"large",fontWeight:900,marginTop:".25rem"},children:[re+" "+e.price,"quick"!==e.id&&"/ Units"]}),(0,S.jsx)("p",{style:{fontSize:"larger",fontWeight:900,marginTop:".25rem"},children:re+" "+parseFloat(e.stock*e.price).toFixed(2)})]})]},t))),(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"end",marginTop:"1rem"},children:[(0,S.jsx)("div",{children:(0,S.jsx)("h2",{children:" TOTAL "})}),(0,S.jsxs)("div",{style:{marginLeft:15},children:[(0,S.jsxs)("h2",{children:[" ",re+" "+parseFloat(be).toFixed(2)," "]}),(0,S.jsx)("p",{})]})]}),(0,S.jsx)("div",{style:{justifyContent:"end",display:"flex",width:"100%"},children:(0,S.jsx)("small",{children:"\u260e: 070-3563062"})}),(0,S.jsx)("div",{style:{textAlign:"right"},children:(0,S.jsxs)("small",{children:[(0,S.jsx)("span",{style:{color:"black",fontSize:"2rem"},children:"\ud83d\uded2"}),"Hobbemaplein 50 ",(0,S.jsx)("br",{})," 2526 JB Den Haag, Netherlands"]})})]}),(0,S.jsx)("center",{children:(0,S.jsx)("b",{children:"Thank you! Visit Again!"})})]})})]})})}),(0,S.jsxs)(y.A,{children:[(0,S.jsx)("button",{className:"btn btn-light btn-rounded",onClick:()=>ge(!xe),children:" Close "}),(0,S.jsx)("button",{className:"btn btn-primary btn-rounded",onClick:async()=>{const e=M.current;if(!e)return l.Ay.error("Sorry can't go further...");try{var t;if(window.electronAPI)null===(t=window.electronAPI)||void 0===t||t.printContent({html:e.innerHTML,id:fe});else(0,v.N5)("Printer not connected!")}catch(s){console.error("Error capturing image:",s)}},children:"Print"})]})]}),(0,S.jsx)(x.A,{isOpen:ne,size:"sm",fade:!1,children:(0,S.jsxs)(f.A,{onSubmit:Se,children:[(0,S.jsx)(g.A,{children:"Enter application key"}),(0,S.jsx)(b.A,{children:(0,S.jsx)(j.A,{onChange:e=>he(e.target.value),defaultValue:me,type:"text",name:"appKey",onClick:e=>{I((0,r.A)((0,r.A)({},D),{},{y:e.target.getBoundingClientRect().y+50})),c(!0)}})}),(0,S.jsxs)(y.A,{children:[(0,S.jsx)("button",{className:"btn btn-light btn-sm btn-rounded",type:"button",onClick:()=>{ae(!1),c(!1)},children:"Cancel"}),(0,S.jsx)("button",{className:"btn btn-success btn-sm btn-rounded",children:" Submit "})]})]})}),o&&(0,S.jsx)("div",{className:"mt-4 position-fixed w-50",style:{zIndex:9999,top:60},children:(0,S.jsx)("div",{style:{overflow:"hidden",position:"relative"},onMouseMove:e=>{Q&&I({x:e.clientX-U.x,y:e.clientY-U.y})},onMouseUp:()=>O(!1),children:(0,S.jsxs)("div",{style:{position:"fixed",top:"".concat(D.y,"px"),left:"".concat(D.x,"px"),cursor:Q?"grabbing":"grab",zIndex:1e3,width:700,transform:"scale(".concat(G,")"),transformOrigin:"top center"},children:[(0,S.jsx)("div",{onMouseDown:e=>{O(!0),R({x:e.clientX-D.x,y:e.clientY-D.y})},style:{background:"#444",color:"#fff",padding:"5px 10px",cursor:"grab",textAlign:"center",borderRadius:"8px 8px 0 0"},children:"Hold To Drag"}),(0,S.jsx)(p(),{onChange:e=>he(e),onKeyPress:e=>{"{lock}"===e&&T((e=>"default"===e?"shift":"default"))},keyboardRef:e=>H.current=e,layout:{default:["1 2 3 4 5 6 7 8 9 0","q w e r t y u i o p","{lock} a s d f g h j k l","z x c v b n m {bksp}","{space}"],shift:["1 2 3 4 5 6 7 8 9 0","Q W E R T Y U I O P","{lock} A S D F G H J K L","Z X C V B N M {bksp}","{space}"]},layoutName:B}),(0,S.jsxs)("div",{className:"bg-white d-flex board-navs",style:{justifyContent:"space-between",padding:"5px 20px"},children:[(0,S.jsx)("button",{className:"btn btn-light btn-rounded",onClick:()=>{he(""),H.current.clearInput()},style:{border:"1px solid gray"},children:"CLEAR"}),(0,S.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.max(G-.1,.5)),P((e=>Math.max(e-.1,.5)))},children:"-"}),(0,S.jsxs)("span",{style:{placeContent:"center"},children:[" ",Math.round(100*G),"% "]}),(0,S.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.min(JSON.parse(G)+.1,2)),P((e=>Math.min(JSON.parse(e)+.1,2)))},children:"+"}),(0,S.jsx)("button",{onClick:()=>c(""),className:"btn btn-light btn-rounded",style:{border:"1px solid gray"},children:"HIDE"})]})]})})})]})}const k=(0,i.memo)(A),D=()=>{let e=(0,n.Zp)(),t=(0,n.zy)();const{userToken:s}=(0,a.d4)((e=>e.auth));let r=(0,a.d4)((e=>e.auth.loading)),d=s;const[c,p]=(0,i.useState)(r);return(0,i.useEffect)((()=>(p(r),()=>null)),[s,r,e]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.l$,{}),(0,S.jsx)("div",{className:"".concat(c?"layout-item":"layout-item d-none"),children:(0,S.jsx)(o.A,{type:"spinner-default",bgColor:"gray",color:"white",size:70})}),d&&(0,S.jsx)(k,{}),(0,S.jsx)("div",{className:"container1 page-body-wrapper w-100 ".concat("/dashboard"===t.pathname?"home":"","  "),children:(0,S.jsx)("div",{className:"".concat(["/pos","/pos/customer","/pos/"].includes(t.pathname)?"pos-panel":"main-panel"," w-100 ").concat("/login"===t.pathname?"login":""," ").concat(-1!==t.pathname.indexOf("payment")?"payment-screen":""),children:(0,S.jsx)(n.sv,{})})})]})}},7936:(e,t,s)=>{s.d(t,{A:()=>r});var n=s(5043),a=s(5989),i=s.n(a),o=(s(527),s(6326)),l=s(579);function r(e){var t;let{pos:s=window.screen.availHeight/3}=e;const{setSearchQuery:a,focused:r,setFocused:d}=(0,o.S)(),[c,p]=(0,n.useState)({x:window.screen.availWidth/3,y:s}),[u,m]=(0,n.useState)(!1),[h,x]=(0,n.useState)({x:0,y:0}),g=(0,n.useRef)(null),[b,y]=(0,n.useState)(null!==(t=localStorage.getItem("_keyboard_scale"))&&void 0!==t?t:1);return(0,l.jsx)("div",{className:"mt-4 position-fixed w-50 v-keyboard",style:{zIndex:9999,top:60},children:(0,l.jsx)("div",{style:{overflow:"hidden",position:"relative"},onMouseMove:e=>{u&&p({x:e.clientX-h.x,y:e.clientY-h.y})},onMouseUp:()=>m(!1),children:(0,l.jsxs)("div",{style:{position:"fixed",top:"".concat(c.y,"px"),left:"".concat(c.x,"px"),cursor:u?"grabbing":"grab",zIndex:1e3,width:700,resize:"both",overflow:"auto",transform:"scale(".concat(b,")"),transformOrigin:"top center"},children:[(0,l.jsx)("div",{onMouseDown:e=>{m(!0),x({x:e.clientX-c.x,y:e.clientY-c.y})},style:{background:"#444",color:"#fff",padding:10,cursor:"grab",textAlign:"center",borderRadius:"8px 8px 0 0"},children:"Hold To Drag"}),(0,l.jsx)(i(),{onChange:e=>a(e),keyboardRef:e=>g.current=e,layout:{default:["1 2 3 4 5 6 7 8 9 0","q w e r t y u i o p","a s d f g h j k l","z x c v b n m {bksp}","{space}"]}}),(0,l.jsxs)("div",{className:"bg-white d-flex board-navs",style:{justifyContent:"space-between",padding:"5px 20px"},children:[(0,l.jsx)("button",{className:"btn btn-light btn-rounded",onClick:()=>{a(""),g.current.clearInput()},style:{border:"1px solid gray"},children:"CLEAR"}),(0,l.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.max(b-.1,.5)),y((e=>Math.max(e-.1,.5)))},children:"-"}),(0,l.jsxs)("span",{className:"place-content-center",children:[" ",Math.round(100*b),"% "]}),(0,l.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.min(JSON.parse(b)+.1,2)),y((e=>Math.min(JSON.parse(e)+.1,2)))},children:"+"}),(0,l.jsx)("button",{onClick:()=>d(!r),className:"btn btn-light btn-rounded",style:{border:"1px solid gray"},children:"HIDE"})]})]})})})}},8595:(e,t,s)=>{s.d(t,{C1:()=>c,E2:()=>l,N5:()=>o,Xz:()=>a,Y6:()=>p,iv:()=>d,sN:()=>r,x5:()=>i});s(8613);var n=s(3768);const a=(e,t)=>{for(var s=e.split(","),n=s[0].match(/:(.*?);/)[1],a=atob(s[s.length-1]),i=a.length,o=new Uint8Array(i);i--;)o[i]=a.charCodeAt(i);return new File([o],t,{type:n})},i=e=>{if(!e)return e;if(e.includes(" ")){let t="";return e.split(" ").forEach((e=>{t+=" "+e.charAt(0).toUpperCase()+e.slice(1)})),t}return e.charAt(0).toUpperCase()+e.slice(1)},o=e=>(0,n.Ay)(e,{icon:"\u26a0\ufe0f",style:{borderRadius:"10px",background:"#333",color:"#fff"}}),l=e=>{if(!e||"object"==typeof e)return e;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map((e=>e+e)).join(""));return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}},r=e=>{let t=l(e);if(void 0===t)return e;const{r:s,g:n,b:a}=t;return.299*s+.587*n+.114*a<128};function d(e,t){const s=[];if(!e)return[];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&e.unshift({});for(let n=0;n<e.length;n+=t)s.push(e.slice(n,n+t));return s}const c=(e,t)=>{if((null===e||void 0===e?void 0:e.length)>t){return e.substring(0,t)+"..."}return e},p=e=>{const t=new Date(e),s=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");String(t.getSeconds()).padStart(2,"0");return"".concat(s,"-").concat(n,"-").concat(a," ").concat(i,":").concat(o)}},1939:(e,t,s)=>{e.exports=s.p+"static/media/logo.2d2e09f65e21f53b1f9f.png"}}]);
//# sourceMappingURL=362.9a73df63.chunk.js.map