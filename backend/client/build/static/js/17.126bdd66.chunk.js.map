{"version":3,"file":"static/js/17.126bdd66.chunk.js","mappings":"iNAOe,SAASA,IAEpB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAEVC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,CAACC,MAAM,GAAGC,SAAS,KAClDC,EAAWC,GAAKL,GAASM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGP,GAAM,IAAE,CAACM,EAAEE,OAAOC,MAAMH,EAAEE,OAAOE,SA8B/DC,EAAa,CAACC,aAAa,QAEjC,OACIC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,qBAAoBD,UAC/BF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,2DAA0DD,UACrEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,sDAAqDD,UACpEF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,iBAAgBD,UAC3BF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,mBAAkBD,UACjCE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,8CAA8CE,MAAO,CAACN,aAAa,QAAQG,SAAA,EACtFF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,aAAYD,UACvBF,EAAAA,EAAAA,KAAA,OAAKM,IAAKC,EAAMC,IAAI,YAExBR,EAAAA,EAAAA,KAAA,MAAAE,SAAI,aACJF,EAAAA,EAAAA,KAAA,MAAIG,UAAU,WAAUD,SAAC,4BACzBE,EAAAA,EAAAA,MAAA,QAAMD,UAAU,OAAOM,SA3C3BC,UAChBC,EAAMC,iBACN3B,EAAS,CAAE4B,KAAK,YAChB,IACIC,EAAAA,EAAMC,KAAK,aAAc5B,GAAS6B,MAAMN,UAAqB,IAAd,KAAEO,GAAMC,EACvD,GAAID,EAAKE,UAUL,OARAC,aAAaC,QAAQ,YAAaJ,EAAKE,WACvCC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUN,EAAKO,OAErDvC,EAAS,CAAE4B,KAAK,YAAaY,QAASR,EAAKE,YAC3ClC,EAAS,CAAE4B,KAAK,WAAYY,QAASR,EAAKO,OAC1CvC,EAAS,CAAE4B,KAAK,mBAAoBY,QAA0B,UAAjBR,EAAKO,KAAKX,OACvD5B,EAAS,CAAE4B,KAAK,eAAgBY,QAASR,EAAKS,WAEvC3C,EAAS,aAEpB,IAAI4C,OAAM,KACNC,EAAAA,GAAMC,MAAM,wBACZT,aAAaU,OAAO,IACrBC,SAAQ,IAAM9C,EAAS,CAAE4B,KAAK,kBAErC,CAAE,MAAOgB,GACLG,QAAQC,IAAIJ,GACZT,aAAaU,OACjB,GAkBkEI,OAAO,OAAMhC,SAAA,EACvDF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,aAAYD,UACvBF,EAAAA,EAAAA,KAAA,SAAOa,KAAK,QAAQjB,KAAK,QAAQS,MAAOP,EAAYK,UAAU,+BAA+BgC,YAAY,cAAcC,SAAU5C,OAErIQ,EAAAA,EAAAA,KAAA,OAAKG,UAAU,aAAYD,UACvBF,EAAAA,EAAAA,KAAA,SAAOa,KAAK,WAAWjB,KAAK,WAAWS,MAAOP,EAAYK,UAAU,+BAA+BgC,YAAY,WAAWC,SAAU5C,OAExIQ,EAAAA,EAAAA,KAAA,OAAKG,UAAU,oBAAmBD,UAC9BF,EAAAA,EAAAA,KAAA,UAAQG,UAAU,2DAA2DE,MAAOP,EAAYe,KAAK,SAAQX,SAAC,eAElHF,EAAAA,EAAAA,KAAA,OAAKG,UAAU,2DAEfC,EAAAA,EAAAA,MAAA,OAAKD,UAAU,4BAA2BD,SAAA,CAAC,oBACvCF,EAAAA,EAAAA,KAACqC,EAAAA,GAAI,CAACC,GAAE,WAAcnC,UAAU,oCAAmCD,SAAC,+BAYxG,C","sources":["components/auth/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport logo from '../../asset/images/pos.png';\r\nimport axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function Login() {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch(); \r\n\r\n    const [fields, setFields] = useState({email:'',password:''})\r\n    const onchange = e => setFields({...fields, [e.target.name]:e.target.value})\r\n    \r\n    const handleLogin = async(event) => {\r\n        event.preventDefault() \r\n        dispatch({ type:'LOADING' })\r\n        try {\r\n            axios.post(`auth/login`, fields ).then( async ({ data }) => {  \r\n            if( data.authToken ) {\r\n\r\n                localStorage.setItem('pos-token', data.authToken )\r\n                localStorage.setItem('pos-user', JSON.stringify(data.user))\r\n\r\n                dispatch({ type:'SET_TOKEN', payload: data.authToken }) \r\n                dispatch({ type:'SET_AUTH', payload: data.user })  \r\n                dispatch({ type:'SET_ADMIN_STATUS', payload: data.user.type==='admin' })\r\n                dispatch({ type:'SET_CURRENCY', payload: data.currency })\r\n\r\n                return navigate('/dashboard')\r\n\r\n            }}).catch(()=>{\r\n                toast.error('Invalid credentials!') \r\n                localStorage.clear()\r\n            }).finally(() => dispatch({ type:'STOP_LOADING' }))\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n            localStorage.clear()\r\n        }\r\n\r\n    }  \r\n    const inputStyle = {borderRadius:'50px'}\r\n\r\n    return (\r\n        <> \r\n            <div className=\"container-scroller\">\r\n                <div className=\"container-fluid page-body-wrapper auth full-page-wrapper\">\r\n                    <div className=\"content-wrapper d-flex align-items-center auth px-0\">\r\n                    <div className=\"row w-100 mx-0\">\r\n                        <div className=\"col-lg-4 mx-auto\">\r\n                        <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\" style={{borderRadius:'12px'}}>\r\n                            <div className=\"brand-logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            <h4> Hello!</h4>\r\n                            <h6 className=\"fw-light\"> Sign in to continue. </h6>\r\n                            <form className=\"pt-3\" onSubmit={handleLogin} method=\"POST\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"email\" name=\"email\" style={inputStyle} className=\"form-control form-control-lg\" placeholder=\"Enter email\" onChange={onchange}/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" name=\"password\" style={inputStyle} className=\"form-control form-control-lg\" placeholder=\"Password\" onChange={onchange} />\r\n                                </div>\r\n                                <div className=\"mt-3 d-grid gap-2\">\r\n                                    <button className=\"btn btn-block btn-primary btn-lg fw-medium auth-form-btn\" style={inputStyle} type=\"submit\">SIGN IN</button>\r\n                                </div>\r\n                                <div className=\"my-2 d-flex justify-content-center align-items-center\">\r\n                                </div>\r\n                                <div className=\"text-center mt-4 fw-light\"> Not registered? \r\n                                    <Link to={`register`} className=\"text-primary text-decoration-none\">Create</Link>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        \r\n        </>\r\n  )\r\n}\r\n"],"names":["Login","navigate","useNavigate","dispatch","useDispatch","fields","setFields","useState","email","password","onchange","e","_objectSpread","target","name","value","inputStyle","borderRadius","_jsx","_Fragment","children","className","_jsxs","style","src","logo","alt","onSubmit","async","event","preventDefault","type","axios","post","then","data","_ref","authToken","localStorage","setItem","JSON","stringify","user","payload","currency","catch","toast","error","clear","finally","console","log","method","placeholder","onChange","Link","to"],"sourceRoot":""}