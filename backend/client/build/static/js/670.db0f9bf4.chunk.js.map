{"version":3,"file":"static/js/670.db0f9bf4.chunk.js","mappings":"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","sources":["components/auth/Login.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport logo from '../../asset/images/pos.png';\r\nimport axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function Login() {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch(); \r\n\r\n    const keyboardRef = useRef()\r\n    const [fields, setFields] = useState({email:'',password:''})\r\n    const onchange = e => setFields({...fields, [e.target.name]:e.target.value})\r\n    const [ scale, setScale ] = useState(1)\r\n    const [focused, setFocused] = useState('')\r\n    const [ preset, setPreset ] = useState('')\r\n    const [layoutName, setLayout] = useState('default')\r\n    const handleLogin = async(event) => {\r\n        event.preventDefault() \r\n        dispatch({ type:'LOADING' })\r\n        try {\r\n            axios.post(`auth/login`, fields ).then( async ({ data }) => {  \r\n            if( data.authToken ) {\r\n\r\n                localStorage.setItem('pos-token', data.authToken )\r\n                localStorage.setItem('pos-user', JSON.stringify(data.user))\r\n\r\n                dispatch({ type:'SET_TOKEN', payload: data.authToken }) \r\n                dispatch({ type:'SET_AUTH', payload: data.user })  \r\n                dispatch({ type:'SET_ADMIN_STATUS', payload: data.user.type==='admin' })\r\n                dispatch({ type:'SET_CURRENCY', payload: data.currency })\r\n                return navigate('/dashboard')\r\n\r\n            }}).catch(()=>{\r\n                toast.error('Invalid credentials!') \r\n                localStorage.clear()\r\n            }).finally(() => dispatch({ type:'STOP_LOADING' }))\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n            localStorage.clear()\r\n        }\r\n\r\n    }  \r\n    const inputStyle = {borderRadius:'50px'}\r\n    const [position, setPosition] = useState({ x: window.screen.availWidth/3, y: window.screen.availHeight / 3 });\r\n    const [dragging, setDragging] = useState(false);\r\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n    \r\n    const handleMouseDown = (e) => {\r\n        setDragging(true);\r\n        setOffset({\r\n            x: e.clientX - position.x,\r\n            y: e.clientY - position.y,\r\n        });\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragging) return;\r\n        setPosition({\r\n            x: e.clientX - offset.x,\r\n            y: e.clientY - offset.y,\r\n        });\r\n    }\r\n    const handleMouseUp = () => setDragging(false);\r\n\r\n    const onChange =  e => {\r\n        setFields({...fields, [focused]:e})\r\n    }\r\n    useEffect(()=>{\r\n        keyboardRef.current?.clearInput()\r\n    },[preset])\r\n\r\n    return (\r\n        <> \r\n            <div className=\"container-scroller\">\r\n                <div className=\"container-fluid page-body-wrapper auth full-page-wrapper\">\r\n                    <div className=\"content-wrapper d-flex align-items-center auth px-0\">\r\n                    <div className=\"row w-100 mx-0\">\r\n                        <div className=\"col-lg-4 mx-auto\">\r\n                        <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\" style={{borderRadius:'12px'}}>\r\n                            <div className=\"brand-logo\">\r\n                                <img src={logo} alt=\"logo\" />\r\n                            </div>\r\n                            <h4> Hello!</h4>\r\n                            <h6 className=\"fw-light\"> Sign in to continue. </h6>\r\n                            <form className=\"pt-3\" onSubmit={handleLogin} method=\"POST\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"email\" \r\n                                        name=\"email\" \r\n                                        style={inputStyle} \r\n                                        className=\"form-control form-control-lg\" \r\n                                        placeholder=\"Enter email\" \r\n                                        onChange={onchange}\r\n                                        value={fields.email}\r\n                                        onClick={()=>{\r\n                                            setFocused('email');\r\n                                            setPreset('')\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" \r\n                                        name=\"password\"\r\n                                        style={inputStyle} \r\n                                        className=\"form-control form-control-lg\" \r\n                                        placeholder=\"Password\"\r\n                                        onChange={onchange} \r\n                                        onClick={()=> {\r\n                                            setFocused('password')\r\n                                            setPreset('sd')\r\n                                        }}\r\n                                        defaultValue={fields.password}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"mt-3 d-grid gap-2\">\r\n                                    <button className=\"btn btn-block btn-primary btn-lg fw-medium auth-form-btn\" style={inputStyle} type=\"submit\">SIGN IN</button>\r\n                                </div>\r\n                                <div className=\"my-2 d-flex justify-content-center align-items-center\">\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {focused && <div className='mt-4 position-fixed w-50' style={{zIndex:9999, top:60 }}>\r\n                <div\r\n                    style={{\r\n                        overflow: \"hidden\",\r\n                        position: \"relative\",\r\n                    }}\r\n                    onMouseMove={handleMouseMove}\r\n                    onMouseUp={handleMouseUp}\r\n                    >\r\n                    <div\r\n                        style={{\r\n                            position: \"fixed\",\r\n                            top: `${position.y}px`,\r\n                            left: `${position.x}px`,\r\n                            cursor: dragging ? \"grabbing\" : \"grab\",\r\n                            zIndex: 1000,\r\n                            width:700,\r\n                            resize:'both',\r\n                            overflow:'auto',\r\n                            transform: `scale(${scale})`, transformOrigin: \"top center\"\r\n                        }}\r\n                    >\r\n                        <div\r\n                        onMouseDown={handleMouseDown}\r\n                            style={{\r\n                                background: \"#444\",\r\n                                color: \"#fff\",\r\n                                padding: \"5px 10px\",\r\n                                cursor: \"grab\",\r\n                                textAlign: \"center\",\r\n                                borderRadius: \"8px 8px 0 0\",\r\n                            }}\r\n                        >\r\n                            Hold To Drag \r\n                        </div>\r\n                            <Keyboard\r\n                                onChange={onChange}\r\n                                onKeyPress={(e) => {\r\n                                    if(e === \"{lock}\")\r\n                                    {\r\n                                        setLayout((prev) => (prev === \"default\" ? \"shift\" : \"default\"))\r\n                                    }\r\n                                }}\r\n                                keyboardRef={(r) => (keyboardRef.current = r)}\r\n                                layout={{\r\n                                    default:[\r\n                                        \"1 2 3 4 5 6 7 8 9 0\",\r\n                                        \"! @ # $ % ^ & * {bksp}\",\r\n                                        \"q w e r t y u i o p\",\r\n                                        \"{lock} a s d f g h j k l\",\r\n                                        \"z x c v b n m .\",\r\n                                        \"{space}\"\r\n                                    ],\r\n                                    shift: [\r\n                                        \"1 2 3 4 5 6 7 8 9 0\",\r\n                                        \"! @ # $ % ^ & * {bksp}\",\r\n                                        \"Q W E R T Y U I O P\",\r\n                                        \"{lock} A S D F G H J K L\",\r\n                                        \"Z X C V B N M .\",\r\n                                        \"{space}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    \"{lock}\":\"Caps\",\r\n                                    \"{bksp}\":\"Backspace\",\r\n                                    \"{space}\":\"Space\"\r\n                                }}\r\n                                layoutName={layoutName}\r\n                            />\r\n                        <div className='bg-white d-flex board-navs' style={{justifyContent:'space-between',padding:'5px 20px'}}>\r\n                            <button className='btn btn-light btn-rounded' onClick={()=>{\r\n                                setFields({...fields,[focused]:''})\r\n                            }} style={{border:'1px solid gray'}}>CLEAR</button>\r\n                            <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={() => setScale(prev => Math.max(prev - 0.1, 0.5))}>-</button>\r\n                            <span> Size: {Math.round(scale * 100)}% </span>\r\n                            <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={() => setScale(prev => Math.min(prev + 0.1, 2))}>+</button>\r\n\r\n                            <button onClick={()=>setFocused('')} className='btn btn-light btn-rounded' style={{border:'1px solid gray'}}>HIDE</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n        </>\r\n  )\r\n}\r\n"],"names":["Login","navigate","useNavigate","dispatch","useDispatch","keyboardRef","useRef","fields","setFields","useState","email","password","onchange","e","_objectSpread","target","name","value","scale","setScale","focused","setFocused","preset","setPreset","layoutName","setLayout","inputStyle","borderRadius","position","setPosition","x","window","screen","availWidth","y","availHeight","dragging","setDragging","offset","setOffset","useEffect","_keyboardRef$current","current","clearInput","_jsxs","_Fragment","children","_jsx","className","style","src","logo","alt","onSubmit","async","event","preventDefault","type","axios","post","then","data","_ref","authToken","localStorage","setItem","JSON","stringify","user","payload","currency","catch","toast","error","clear","finally","console","log","method","placeholder","onChange","onClick","defaultValue","zIndex","top","overflow","onMouseMove","clientX","clientY","onMouseUp","handleMouseUp","concat","left","cursor","width","resize","transform","transformOrigin","onMouseDown","background","color","padding","textAlign","Keyboard","onKeyPress","prev","r","layout","default","shift","display","justifyContent","border","Math","max","round","min"],"sourceRoot":""}