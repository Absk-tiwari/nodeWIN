"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[831],{2831:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var n=s(9379),a=s(5043);var d=s(2339),l=s(9722),r=s(3003),c=s(3326),i=s(6221),o=s(591),h=s(782),u=s(9904),x=s(2327),j=s(7550),m=s(7493),p=s(2679),b=s(7877),A=s(1052),g=s(579);function y(){const[e,t]=(0,a.useState)({}),s=(0,r.wA)(),{currency:y}=(0,r.d4)((e=>e.auth)),[N,v]=(0,a.useState)([]),[f,w]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),{data:C,isSuccess:D}=(0,A.h3)(),I=()=>w(!f),O=e=>{window.confirm("Are you sure?")&&(s({type:"LOADING"}),l.A.get("/notes/remove/".concat(e)).then((t=>{let{data:s}=t;console.log(s),v(N.filter((t=>t.id!==e)))})).catch((e=>{})).finally((()=>s({type:"STOP_LOADING"}))))};return(0,a.useEffect)((()=>{D&&v(C.notes)}),[C,D]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"content-wrapper",children:(0,g.jsx)("div",{className:"d-grid mt-3",children:(0,g.jsx)("div",{id:"category",children:(0,g.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,g.jsxs)("div",{className:"card",children:[(0,g.jsx)("div",{className:"card-header",children:(0,g.jsx)("button",{className:"btn btn-sm btn-success",onClick:I,children:" Add New"})}),(0,g.jsx)("div",{className:"card-body",children:(0,g.jsx)("div",{className:"table-responsive w-100 categoryTable",children:(0,g.jsxs)("table",{className:"table table-bordered",style:{borderRadius:10},children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"S.No"}),(0,g.jsx)("th",{children:"Amount"}),(0,g.jsx)("th",{children:"Image"}),(0,g.jsx)("th",{children:"Status"}),(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsx)("tbody",{children:N.map((e=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:e.id}),(0,g.jsxs)("td",{children:[" ",y," ",e.amount," "]}),(0,g.jsx)("td",{children:(0,g.jsx)("img",{src:"http://localhost:5100/images/"+e.image,style:{borderRadius:0,width:60},alt:""})}),(0,g.jsxs)("td",{children:[(0,g.jsx)("input",{type:"checkbox",style:{display:"none"},id:"btn"+e.id,name:"status",defaultChecked:e.status,className:"status"}),(0,g.jsx)("label",{htmlFor:"btn"+e.id}),(0,g.jsx)("div",{className:"plate"})]}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{className:"btn btn-danger btn-sm",onClick:O,children:"Delete"})})]},e.id)))})]})})})]})})})})}),(0,g.jsx)(c.A,{isOpen:f,toggle:I,children:(0,g.jsxs)(i.A,{onSubmit:t=>{if(t.preventDefault(),!S)return d.Ay.error("Choose an image!");s({type:"LOADING"});let n=new FormData;n.append("image",S),n.append("amount",e.amount),l.A.post("/notes/create",n,{headers:{Accept:"application/json","Content-Type":"multipart/form-data","pos-token":localStorage.getItem("pos-token")}}).then((e=>{let{data:t}=e;v([...N,t.note])})).catch((e=>{var t,s;return d.Ay.error(null!==(t=null===(s=e.response)||void 0===s?void 0:s.responseText)&&void 0!==t?t:"Something went wrong!")})).finally((()=>s({type:"STOP_LOADING"})))},children:[(0,g.jsx)(o.A,{children:" Update Product "}),(0,g.jsx)(h.A,{children:(0,g.jsxs)(u.A,{children:[(0,g.jsx)(x.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(m.A,{children:" Amount "}),(0,g.jsx)(p.A,{type:"text",name:"amount",pattern:"^\\d+(\\.\\d+)?$",onChange:s=>t((0,n.A)((0,n.A)({},e),{},{[s.target.name]:s.target.value}))})]})}),(0,g.jsx)(x.A,{children:(0,g.jsxs)(j.A,{children:[(0,g.jsx)(m.A,{children:" Image "}),(0,g.jsx)(p.A,{type:"file",onChange:e=>k(e.target.files[0])})]})})]})}),(0,g.jsxs)(b.A,{children:[(0,g.jsx)("button",{className:"btn btn-light btn-rounded",type:"button",onClick:I,children:"Close"}),(0,g.jsx)("button",{className:"btn btn-success btn-rounded",type:"submit",children:"Upload"})]})]})})]})}}}]);
//# sourceMappingURL=831.213f972a.chunk.js.map