"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[362],{7362:(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var a=s(3216),n=s(3003),i=s(5043),l=s(8015),o=s(2339),r=s(9379),c=s(9722),d=s(5475);const m="data:image/png;base64,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";var u=s(6326),p=s(3326),h=s(6221),x=s(591),g=s(782),j=s(2327),b=s(7550),N=s(7493),f=s(2679),v=s(7877),y=s(8595),A=s(5239),w=s.n(A),C=s(1052),S=s(579);const Q=function(){var e;const t=(0,a.g)(),{data:s}=(0,C.I9)(),l=e=>{e.stopPropagation(),e.preventDefault();const t=e.target.dataset.id;c.A.get("config/notification/delete/".concat(t)).then((e=>{let{data:s}=e;console.log(s),s.status&&re(C.S5.util.updateQueryData("getNotifications",void 0,(e=>{e.notifications=e.notifications.filter((e=>e.id!==parseInt(t)))})))}))},[A,Q]=(0,i.useState)(null!==(e=null===s||void 0===s?void 0:s.notifications)&&void 0!==e?e:[]);(0,i.useEffect)((()=>{var e;Q(null!==(e=null===s||void 0===s?void 0:s.notifications)&&void 0!==e?e:[])}),[s]);const D=(0,i.useRef)(null),k=(0,a.zy)(),{setSearchQuery:O,sessions:U,setSession:I,activeSession:B,setActiveSession:R,displayImage:G,handleImageDisplay:F}=(0,u.S)(),[q,H]=(0,i.useState)(!1),P="/dashboard"!==k.pathname,{cartProducts:T,split:W,currency:Z,appKey:E}=(0,n.d4)((e=>e.auth)),[L,V]=(0,i.useState)(E),[Y,X]=(0,i.useState)(!1),[K,M]=(0,i.useState)(""),[J,z]=(0,i.useState)(!1),[_,$]=(0,i.useState)(0),[ee,te]=(0,i.useState)(1),[se,ae]=(0,i.useState)(0),[ne,ie]=(0,i.useState)(""),[le,oe]=(0,i.useState)([]),re=(0,n.wA)(),ce=(0,a.Zp)(),de=()=>X(!Y),me=async e=>{e.preventDefault();try{if(!E)return H(!q);re({type:"SET_APP_KEY",payload:E}),re({type:"LOADING"});const{data:e}=await c.A.get("https://pos.dftech.in/sync-products/".concat(E));if(e.status){o.Ay.success(e.message);let t=new FormData;const s=(0,y.Xz)("data:application/json;base64,"+e.file,"client.json");t.append("file",s);const{data:a}=await c.A.post("products/sync",t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data","pos-token":localStorage.getItem("pos-token")}});a.status&&(o.Ay.success("Importing completed"),setTimeout((()=>window.location.reload()),2400))}else o.Ay.error(e.message)}catch(t){console.log(t.message),o.Ay.error("Couln't fetch products right now!")}re({type:"STOP_LOADING"})};return(0,i.useEffect)((()=>(R(U[0]),()=>R(U[0]))),[U]),t&&"customer"===t.type?null:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("nav",{className:"navbar default-layout col-lg-12 col-12 p-0 d-flex align-items-top flex-row no-print",style:{zIndex:999},children:[P&&(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"text-center navbar-brand-wrapper d-flex align-items-center justify-content-start",children:[(0,S.jsx)("div",{className:"me-3",children:(0,S.jsx)(d.N_,{to:"/dashboard",className:"nav-link",children:(0,S.jsx)("i",{className:"mdi mdi-home menu-icon fs-3"})})}),(0,S.jsx)("div",{})]})}),(0,S.jsxs)("div",{className:"navbar-menu-wrapper d-flex align-items-top",style:{width:P?"":"100%"},children:[P&&(0,S.jsx)("li",{className:"navbar-nav nav-item",children:(0,S.jsx)("button",{className:"btn btn-sm",onClick:()=>ce(-1),children:(0,S.jsx)("i",{style:{fontSize:"1.8rem"},className:"mdi mdi-arrow-left"})})}),["/pos","/pos/","/payment"].includes(k.pathname)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("li",{className:"navbar-nav nav-item ms-3",onClick:()=>{localStorage.setItem("cartSessions",JSON.stringify([...U,U[U.length-1]+1])),I([...U,U[U.length-1]+1])},children:(0,S.jsx)("div",{className:"box",children:" + "})}),(0,S.jsx)("ul",{className:"navbar-nav ms-1 sessions",children:U.map((e=>(0,S.jsx)("li",{className:"nav-item fw-semibold ms-1",onClick:()=>R(e),children:(0,S.jsxs)("div",{className:"box ".concat(B===e?"active":""),children:[" ",e," "]})},e)))}),(0,S.jsx)("button",{className:"btn ".concat(W?"btn-success":"btn-outline-success"," btn-sm ms-2 split-btn text-dark"),type:"button",onClick:()=>{let e=document.querySelector(".split-btn");re({type:"SPLIT",payload:e.classList.contains("btn-outline-success")})},title:"Split products",children:"Split Products"}),(0,S.jsx)("button",{className:"btn btn-outline-success btn-light btn-sm ms-2 quick-btn text-dark",type:"button",onClick:e=>{re({type:"LOADING"}),z(!J),c.A.get("orders/last-order").then((e=>{var t,s;let{data:a}=e;const{products:n,session:i}=a,l=JSON.parse(i.data);$(a.order.amount),ae(a.order.payment_mode),te(a.order.session_id),ie(null===(t=a.cashier)||void 0===t?void 0:t.email);let o=Object.values(n).map((e=>(0,r.A)((0,r.A)({},e),{},{stock:null===l||void 0===l?void 0:l.quantity[e.id]})));if(-1!==(null!==(s=null===l||void 0===l?void 0:l.products)&&void 0!==s?s:[]).indexOf("quick")){let e=o.reduce(((e,t)=>e+parseFloat(t.price*(null===l||void 0===l?void 0:l.quantity[t.id]))),0),t=a.order.amount-e;o=[...o,{name:"Others",price:t,id:"quick",stock:null===l||void 0===l?void 0:l.quantity.quick}]}oe(o)})).catch().finally((()=>re({type:"STOP_LOADING"})))},title:"Quick add product to cart",children:"Print Last Receipt"}),(0,S.jsx)("button",{className:"btn btn-outline-success btn-light btn-sm ms-2 quick-btn text-dark",type:"button",onClick:de,title:"Quick add product to cart",children:"Quick Add"}),(0,S.jsx)(p.A,{isOpen:Y,className:"modal-sm",toggle:de,children:(0,S.jsxs)(h.A,{onSubmit:e=>{var t;(e.preventDefault(),K)&&re({type:"CHOOSEN_PRODUCT",payload:(0,r.A)((0,r.A)({},T),{},{[B]:[...null!==(t=T[B])&&void 0!==t?t:[],{id:"quick",name:"Others",price:K,stock:1,other:!0,weight:null}]})});M((()=>null))},children:[(0,S.jsx)(x.A,{children:"Quick Add"}),(0,S.jsx)(g.A,{children:(0,S.jsx)(j.A,{children:(0,S.jsxs)(b.A,{className:"w-100",children:[(0,S.jsx)(N.A,{children:" Price "}),(0,S.jsx)(f.A,{type:"text",pattern:"^\\d+(\\.\\d+)?$",title:"price should be in numbers",placeholder:localStorage.getItem("currency"),onChange:e=>M(e.target.value)})]})})}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)("button",{className:"btn btn-light btn-rounded",onClick:de,children:" Close "}),(0,S.jsx)("button",{className:"btn btn-success btn-rounded",children:" Submit "})]})]})})]}),"/products"===k.pathname&&(0,S.jsx)(d.N_,{to:"/product/create",className:"btn-success btn btn-md btn-rounded",children:" New "}),(0,S.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,S.jsxs)("li",{className:"nav-item d-flex align-items-center",children:["/pos"===k.pathname&&(0,S.jsxs)("button",{className:"btn btn-rounded btn-warning fs-4",onClick:()=>F(!G),children:[G?"Hide":"Show"," Images",(0,S.jsxs)("div",{className:"d-none",children:[(0,S.jsx)("input",{type:"checkbox",id:"btn1901_m",name:"status",defaultChecked:!0,className:"status"}),(0,S.jsx)("label",{htmlFor:"btn1901_m"}),(0,S.jsx)("div",{className:"plate"})]})]}),(0,S.jsx)("button",{className:"btn",onClick:()=>window.location.reload(),title:"Refresh",children:(0,S.jsx)("i",{style:{fontSize:"2rem"},className:"mdi mdi-refresh"})})]}),"/pos"===k.pathname&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("li",{className:"nav-item",children:(0,S.jsxs)("form",{className:"search-form",action:"#",children:[(0,S.jsx)("i",{className:"icon-search"}),(0,S.jsx)("input",{type:"search",className:"form-control",placeholder:"Search Here",title:"Search here",onInput:e=>O(e.target.value)})]})})}),(0,S.jsxs)("li",{className:"nav-item dropdown",children:[(0,S.jsxs)(d.N_,{className:"nav-link count-indicator",id:"notificationDropdown",href:"#","data-bs-toggle":"dropdown",children:[(0,S.jsx)("i",{className:"mdi mdi-bell"}),(0,S.jsx)("span",{className:"count"})]}),(0,S.jsxs)("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown preview-list pb-0","aria-labelledby":"notificationDropdown",style:{borderRadius:8},children:[(0,S.jsxs)(d.N_,{className:"dropdown-item py-3 border-bottom",children:[(0,S.jsxs)("p",{className:"mb-0 fw-medium float-start",children:[" You have ",A.length," notifications "]}),(0,S.jsx)("span",{className:"badge badge-pill badge-primary float-end",onClick:e=>{e.stopPropagation(),e.preventDefault(),c.A.get("config/clear-notifications",{headers:{"Content-Type":"application/json","pos-token":localStorage.getItem("pos-token")}}).then((e=>{let{data:t}=e;t.status&&re(C.S5.util.updateQueryData("getNotifications",void 0,(e=>{e.notifications=[]})))}))},children:" Clear all "})]}),A.map((e=>(0,S.jsxs)(d.N_,{className:"dropdown-item preview-item py-2 position-relative","data-id":e.id,children:[(0,S.jsx)("div",{class:"preview-thumbnail",children:(0,S.jsx)("i",{class:"mdi mdi-alert m-auto text-primary"})}),(0,S.jsxs)("div",{class:"preview-item-content",children:[(0,S.jsx)("h5",{class:"preview-subject fw-normal text-dark mb-1",children:e.content}),(0,S.jsx)("p",{class:"fw-light small-text mb-0"})]}),(0,S.jsx)("span",{onClick:l,"data-id":e.id,class:"fa fa-close align-items-center position-absolute align-self-center",style:{right:20}})]},e.id)))]})]}),(0,S.jsxs)("li",{className:"nav-item dropdown d-none d-lg-block user-dropdown",children:[(0,S.jsx)(d.N_,{className:"nav-link",id:"UserDropdown",to:"#","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,S.jsx)("img",{className:"img-xs rounded-circle",src:m,alt:""})}),(0,S.jsxs)("div",{className:"dropdown-menu dropdown-menu-right navbar-dropdown","aria-labelledby":"UserDropdown",style:{borderRadius:8},children:[(0,S.jsxs)("div",{className:"dropdown-header text-center",children:[(0,S.jsx)("img",{className:"img-md rounded-circle",src:m,alt:""}),(0,S.jsx)("p",{className:"mb-1 mt-3 fw-semibold",children:" default "}),(0,S.jsx)("p",{className:"fw-light text-muted mb-0",children:" default "})]}),(0,S.jsxs)(d.N_,{className:"dropdown-item",children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-account-outline text-primary me-2"}),"My Profile ",(0,S.jsx)("span",{className:"badge badge-pill badge-danger",children:" 1 "})]}),(0,S.jsxs)(d.N_,{className:"dropdown-item",to:"#",children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-cogs text-primary me-2"}),"Settings"]}),(0,S.jsxs)(d.N_,{to:"#",className:"dropdown-item cache-clear",onClick:me,children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-refresh text-primary me-2"}),"Sync Products"]}),(0,S.jsxs)(d.N_,{className:"dropdown-item",to:"#",children:[(0,S.jsx)("i",{className:"dropdown-item-icon mdi mdi-power text-primary me-2"}),"Sign Out"]})]})]})]}),(0,S.jsx)("button",{className:"navbar-toggler navbar-toggler-right d-lg-none align-self-center",type:"button","data-bs-toggle":"offcanvas",children:(0,S.jsx)("span",{className:"mdi mdi-menu"})})]})]}),(0,S.jsxs)(p.A,{isOpen:J,children:[(0,S.jsx)(x.A,{children:(0,S.jsx)("p",{style:{fontSize:"1.5rem"},children:"Previous Order Details"})}),(0,S.jsx)(g.A,{ref:D,children:(0,S.jsx)("div",{className:"col-lg-12",id:"receipt",children:(0,S.jsxs)("div",{className:"container",style:{backgroundColor:"white",paddingBottom:"10px",borderRadius:"15px"},children:[(0,S.jsx)("div",{className:"row",style:{display:"flex"},children:(0,S.jsxs)("div",{className:"d-grid text-center w-100",style:{justifyContent:"center"},children:[(0,S.jsxs)("p",{children:[" Served by ",(0,S.jsx)("b",{children:ne})," "]}),"Session ",(0,S.jsxs)("h2",{className:"sessionID",children:["#",ee]})]})}),(0,S.jsx)("div",{className:"row",children:(0,S.jsxs)("div",{className:"receipt",style:{width:"90%",background:"#fff",marginLeft:"5%"},children:[le.map(((e,t)=>(0,S.jsxs)("div",{className:"row mt-2 chosen-product",children:[(0,S.jsxs)("div",{className:"d-flex w-100",children:[(0,S.jsx)("b",{children:e.name}),(0,S.jsxs)("strong",{className:"price",children:[" Qty: ",e.stock]})]}),(0,S.jsx)("div",{className:"d-flex",children:(0,S.jsxs)("p",{className:"ms-3 mt-1",style:{fontFamily:"cursive"},children:[Z+" "+e.price,"quick"!==e.id&&"/ Units"]})})]},t))),(0,S.jsxs)("div",{className:"",children:[(0,S.jsxs)("div",{className:"row d-flex mt-3",style:{justifyContent:"space-between"},children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("h2",{children:"TOTAL "}),(0,S.jsx)("p",{})]}),(0,S.jsxs)("div",{children:[(0,S.jsxs)("h2",{children:[" ",Z+" "+parseFloat(_).toFixed(2)," "]}),(0,S.jsx)("p",{})]})]}),(0,S.jsxs)("div",{className:"row d-flex mt-0",style:{justifyContent:"space-between"},children:[(0,S.jsx)("div",{children:(0,S.jsxs)("small",{children:[" ",(0,y.x5)(se)," "]})}),(0,S.jsx)("div",{children:(0,S.jsxs)("small",{children:[" ",Z+""+parseFloat(_).toFixed(2)," "]})})]})]})]})})]})})}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)("button",{className:"btn btn-light btn-rounded",onClick:()=>z(!J),children:" Close "}),(0,S.jsx)("button",{className:"btn btn-primary btn-rounded",onClick:async()=>{const e=D.current;if(!e)return o.Ay.error("Sorry can't go further...");try{var t;const s=(await w()(e)).toDataURL("image/png");console.log(s),null===(t=window.electronAPI)||void 0===t||t.printContent(s)}catch(s){console.error("Error capturing image:",s)}},children:"Print"})]})]}),(0,S.jsx)(p.A,{isOpen:q,size:"sm",children:(0,S.jsxs)(h.A,{onSubmit:me,children:[(0,S.jsx)(x.A,{children:"Enter application key"}),(0,S.jsx)(g.A,{children:(0,S.jsx)(f.A,{onChange:e=>V(e.target.value),defaultValue:L,type:"text",name:"appKey"})}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)("button",{className:"btn btn-light btn-sm btn-rounded",type:"button",onClick:()=>H(!q),children:"Cancel"}),(0,S.jsx)("button",{className:"btn btn-success btn-sm btn-rounded",children:" Submit "})]})]})})]})},D=()=>{let e=(0,a.Zp)(),t=(0,a.zy)();const{userToken:s}=(0,n.d4)((e=>e.auth));let r=(0,n.d4)((e=>e.auth.loading)),c=s;const[d,m]=(0,i.useState)(r);return(0,i.useEffect)((()=>(m(r),()=>null)),[s,r,e]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.l$,{}),(0,S.jsx)("div",{className:"".concat(d?"layout-item":"layout-item d-none"),children:(0,S.jsx)(l.A,{type:"spinner-default",bgColor:"gray",color:"white",size:70})}),c&&(0,S.jsx)(Q,{}),(0,S.jsx)("div",{className:"container1 page-body-wrapper w-100 ".concat("/dashboard"===t.pathname?"home":"","  "),children:(0,S.jsx)("div",{className:"".concat(["/pos","/pos/customer","/pos/"].includes(t.pathname)?"pos-panel":"main-panel"," w-100 ").concat("/login"===t.pathname?"login":""," ").concat(-1!==t.pathname.indexOf("payment")?"payment-screen":""),children:(0,S.jsx)(a.sv,{})})})]})}},8595:(e,t,s)=>{s.d(t,{C1:()=>d,E2:()=>o,N5:()=>l,Xz:()=>n,Y6:()=>m,iv:()=>c,sN:()=>r,x5:()=>i});s(8613);var a=s(2339);const n=(e,t)=>{for(var s=e.split(","),a=s[0].match(/:(.*?);/)[1],n=atob(s[s.length-1]),i=n.length,l=new Uint8Array(i);i--;)l[i]=n.charCodeAt(i);return new File([l],t,{type:a})},i=e=>{if(!e)return e;if(e.includes(" ")){let t="";return e.split(" ").forEach((e=>{t+=" "+e.charAt(0).toUpperCase()+e.slice(1)})),t}return e.charAt(0).toUpperCase()+e.slice(1)},l=e=>(0,a.Ay)(e,{icon:"\u26a0\ufe0f",style:{borderRadius:"10px",background:"#333",color:"#fff"}}),o=e=>{if(!e||"object"==typeof e)return e;3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map((e=>e+e)).join(""));return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)}},r=e=>{let t=o(e);if(void 0===t)return e;const{r:s,g:a,b:n}=t;return.299*s+.587*a+.114*n<128};function c(e,t){const s=[];if(!e)return[];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&e.unshift({});for(let a=0;a<e.length;a+=t)s.push(e.slice(a,a+t));return s}const d=(e,t)=>{if((null===e||void 0===e?void 0:e.length)>t){return e.substring(0,t)+"..."}return e},m=e=>{const t=new Date(e),s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),i=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");String(t.getSeconds()).padStart(2,"0");return"".concat(s,"-").concat(a,"-").concat(n," ").concat(i,":").concat(l)}}}]);
//# sourceMappingURL=362.bdefdc86.chunk.js.map