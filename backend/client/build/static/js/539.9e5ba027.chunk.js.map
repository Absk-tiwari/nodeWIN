{"version":3,"file":"static/js/539.9e5ba027.chunk.js","mappings":"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","sources":["helpers/attachments.js","components/products/Products.js","helpers/utils.js"],"sourcesContent":["import $ from 'jquery'\r\nimport toast from 'react-hot-toast';\r\nimport axios from 'axios';\r\nimport { dataURLtoFile } from './utils';\r\n// import html2canvas from 'html2canvas';\r\n// import jsPDF from 'jspdf';\r\nvar Attachments =\r\n{\r\n    messageOrigin: null,\r\n    preview: function(hasData, path)\r\n    {\r\n        // Remove existing elements, we already faced enough errors\r\n        let cModalBody=document.body.querySelectorAll('.attachment-viewer.d-none');\r\n        for (let i = 0; i < cModalBody.length; i++)\r\n        {\r\n            document.body.removeChild(cModalBody[i]);\r\n        }\r\n        \r\n        let singlePixel='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';\r\n        let oModalBody=document.body.appendChild(document.createElement('div'));\r\n        oModalBody.className='attachment-viewer d-none';\r\n        let oImg=oModalBody.appendChild(document.createElement('div')).appendChild(document.createElement('img'));\r\n        oImg.id=\"image\";\r\n        oImg.src=singlePixel;\r\n        let oUL=oModalBody.appendChild(document.createElement('div')).appendChild(document.createElement('ul'));\r\n        oUL.id='images';\r\n        if(hasData)\r\n        {\r\n            if(hasData[0].includes('application/pdf'))\r\n            {\r\n                let file = dataURLtoFile(hasData[0],'abc.pdf') \r\n                const href = URL.createObjectURL(file)\r\n                const link = document.createElement('a')\r\n                link.href  = href \r\n                link.download=\"filename \"// Don't ignore <3\r\n                document.body.appendChild(link)\r\n                link.click()\r\n                document.body.removeChild(link)\r\n                URL.revokeObjectURL(href)\r\n                //     let payload = new FormData();\r\n                //     payload.append('doc', file);\r\n                //     axios.post('convert-file', payload, {\r\n                //         headers:{\r\n                //             \"Accept\":\"application/json\",\r\n                //             \"Content-Type\": \"multipart/form-data\",\r\n                //             \"Authorization\":\"Bearer \"+localStorage.getItem('auth-token')\r\n                //         }\r\n                //     })\r\n                //     .then(({data})=>{\r\n                //         console.log(data)\r\n                //     })\r\n                //     .catch(err=>console.log(err.message))\r\n                return ;\r\n            }\r\n            Attachments.events.previewCallback(hasData, path)\r\n        } \r\n        else {\r\n                \r\n            /*\r\n            let ids=[docID]; came as array when pdf was converted to jpg(s); returned multiple ids to fetch single image.\r\n                Here is a bit different case, you'll need the Imagick extension to come into play in the backend to get the pdf-image \r\n                id(s). As of now , we are taking only single id of the document(png,jpg).\r\n           \r\n            for (let i = 0; i < ids.length; i++)\r\n            {\r\n                let id= ids[i]; \r\n                axios.get([axios.defaults.baseURL, module,clientID, id].join('/'))\r\n                .then(({data})=>Attachments.events.previewCallback(data))\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                    toast.error('An error occurred!')\r\n                })\r\n            }\r\n            */\r\n        }\r\n    },\r\n    events:\r\n    {\r\n        previewCallback: function (data, onDisk)\r\n        {\r\n            console.log(data,onDisk)\r\n            let oModalBody=document.querySelector('.attachment-viewer.d-none');\r\n            let oUL=document.querySelector('.attachment-viewer.d-none ul');\r\n            const path = process.env.REACT_APP_BACKEND_URI+ 'images/'\r\n            if (data.length === 0) {\r\n                toast.error('Attachment not found!');\r\n            }\r\n        \r\n            for (let i = 0; i < data.length; i++)\r\n            {\r\n                let oImg= oUL.appendChild(document.createElement('li')).appendChild(document.createElement('img'));\r\n                oImg.className='rotate-0';\r\n                oImg.id='image-'+i;\r\n                oImg.classList.add('pending-load');\r\n                oImg.onload=function()\r\n                {\r\n                    this.classList.remove('pending-load');\r\n                    if ($('.attachment-viewer ul li img.pending-load').length === 0)\r\n                    {\r\n                        oModalBody.querySelector('img#image').src= oUL.querySelector('li:first-child img').src;\r\n                        let viewer=new window.Viewer(document.getElementById('images'), {\r\n                            title: false,\r\n                            hide: function(e)\r\n                            {\r\n                                setTimeout(function(viewer) \r\n                                {\r\n                                    let oContainer=document.body.querySelector('div.attachment-viewer');\r\n                                    if(oContainer) {\r\n                                        document.body.removeChild(oContainer);\r\n                                    }\r\n                                }, 1000, e.target.viewer);\r\n                            }\r\n                        });\r\n                        if (viewer.element.querySelectorAll('img').length === 1) {\r\n                            document.body.classList.add('one-image');\r\n                        } else {\r\n                            document.body.classList.remove('one-image');\r\n                        }\r\n                        viewer.show(); \r\n                    }\r\n                }\r\n                oImg.onerror = function() {\r\n                    toast.error('Image not uploaded or is of incorrect format!');\r\n                }; \r\n                \r\n                oImg.src = onDisk? path + data[i]: data[i];\r\n            }\r\n        },\r\n        load: function()\r\n        {\r\n            if (document.querySelector('.loading-modal') === null)\r\n            {\r\n                let oOuterDiv=document.body.appendChild(document.createElement('div'));\r\n                oOuterDiv.className='modal fade loading-modal';\r\n                oOuterDiv.tabIndex='-1';\r\n                oOuterDiv.setAttribute('role', 'dialog');\r\n                oOuterDiv.setAttribute('aria-hidden', 'true');\r\n\r\n                let oDialogDiv=oOuterDiv.appendChild(document.createElement('div'));\r\n                oDialogDiv.className='modal-dialog modal-dialog-centered';\r\n                oDialogDiv.style.width='85px';\r\n\r\n                let oContentDiv=oDialogDiv.appendChild(document.createElement('div'));\r\n                oContentDiv.className='modal-content';\r\n                oContentDiv.appendChild(document.createElement('img')).src='/hub/img/loading.gif';\r\n\r\n                let oAnchor=document.body.appendChild(document.createElement('a'));\r\n                oAnchor.className='d-none loading-modal-trigger';\r\n                oAnchor.dataset.toggle='modal';\r\n                oAnchor.dataset.target='.loading-modal';\r\n            }\r\n        } \r\n    },\r\n    printOnCanvas: async function(id, sFunction)\r\n    { \r\n        let oIframe=document.querySelector('iframe[name=\"_print\"]');\r\n        if (oIframe === null) {\r\n            oIframe=document.createElement('iframe');\r\n            oIframe.name='_print';\r\n            document.body.appendChild(oIframe);\r\n        }\r\n        // oIframe.src=[axios.defaults.baseURL, sFunction, id].join('/');   \r\n        // oIframe.src='http://localhost:3000/#/dashboard';   \r\n        // const input = oIframe.contentDocument || oIframe.contentWindow.document;\r\n        let html = '';\r\n        let {data} = await axios.get('toPdf');\r\n        html = data\r\n        try {\r\n                // const canvas = await html2canvas(html)\r\n                // const imgData = canvas.toDataURL('image/png')\r\n                // const data = new jsPDF({\r\n                //     orientation : 'portrait',\r\n                //     unit : 'px',\r\n                //     format : 'a4',\r\n                // });\r\n                // const width = data.internal.pageSize.getWidth();\r\n                // const height = (canvas.height * width)/ canvas.width;\r\n                // data.addImage(imgData, 'PNG', 0, 0, width, height, '','MEDIUM' )\r\n                // data.save('abc.pdf');\r\n\r\n            } catch (e) {\r\n                console.log(e) \r\n            }\r\n\r\n    }\r\n}\r\n\r\nfunction preview(hasData=null,filename=null, path=false)\r\n{   \r\n    Attachments.preview( hasData, filename, path );\r\n}\r\n \r\nexport { preview }","import React, { useEffect, useRef, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Form, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap'\r\nimport { commonApiSlice, useDeleteProductMutation, useGetProductCategoriesQuery, useGetProductsQuery, useGetTaxesQuery } from \"../../features/centerSlice\";\r\nimport { Warning, wrapText } from \"../../helpers/utils\";\r\nimport toast from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\nimport { preview } from \"../../helpers/attachments\";\r\nimport labelImg from \"../../asset/images/default.png\";\r\n\r\nconst Products = () => {\r\n\r\n    const listtableRef = useRef();\r\n    const tableRef = useRef();\r\n    const selectRef = useRef();\r\n    const dispatch = useDispatch()\r\n\r\n    const {data:categories, isSuccess:catSuccess} = useGetProductCategoriesQuery();\r\n    const {data:taxess, isSuccess:taxAaGaya} = useGetTaxesQuery();\r\n    const [ deleteProduct ] = useDeleteProductMutation();\r\n\r\n    const [rowData, setRowData] = useState([]);\r\n    const {currency } = useSelector( state=> state.auth );\r\n    const [modal, setModal ] = useState(false);\r\n    const { data, isSuccess } = useGetProductsQuery();\r\n    const [ editingProduct, setEditingProduct ] = useState({});\r\n    const [ cats, setCats ] = useState([]);\r\n    const [ taxes, setTaxes ] = useState([]);\r\n    const [ uploadedSrc, setPlaceholder ] = useState('');\r\n    const [ view, setView] = useState('list');\r\n\r\n    const changeProductField = e => {\r\n        console.log({ ...editingProduct, [e.target.name]: e.target.value })\r\n        setEditingProduct({ ...editingProduct, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    const handleFile = e => {\r\n        let file = e.target.files[0];\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        setEditingProduct({ ...editingProduct, uploaded:file })\r\n        reader.onload = function() {\r\n            setPlaceholder(reader.result)\r\n        }\r\n    }\r\n\r\n    const refer = e =>{ \r\n        let {img} = e.target.dataset;\r\n        preview([img], true)\r\n    }\r\n    const handleImgError = e => {\r\n        e.target.src = labelImg\r\n    }\r\n\r\n    const handleProductUpdate = async(e) => {\r\n        e.preventDefault();\r\n        let fd = new FormData();\r\n        for (const key in editingProduct) {\r\n            fd.append(key, editingProduct[key])\r\n        }\r\n        try {\r\n            const {data} = await axios.post(`products/update`, fd, {\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    \"Content-Type\" : \"multipart/form-data\",\r\n                    'pos-token' : localStorage.getItem('pos-token')\r\n                }\r\n            });\r\n            if(data.status) {\r\n                toast.success(\"Product updated!\")\r\n                console.log(editingProduct);\r\n                dispatch(\r\n                    commonApiSlice.util.updateQueryData('getProducts', undefined, (draft) => {\r\n                        const {products} = draft\r\n                        const {updated} = data;\r\n                        const index = products.findIndex((item) => item.id === parseInt(updated.id));\r\n                        if (index !== -1) {\r\n                            draft['products'][index] = updated;\r\n                            draft['products'][index]['catName'] = cats.find( c => c.id === updated.category_id).name;    \r\n                        }\r\n                    })\r\n                ); \r\n                dispatch(\r\n                    commonApiSlice.util.updateQueryData('getPosProducts', undefined, draft => {\r\n                        const {products} = draft\r\n                        const {updated} = data;\r\n                        const index = products.findIndex((item) => item.id === parseInt(updated.id));\r\n                        if (index !== -1) draft['products'][index] = updated; // Update the item in the cache\r\n                    })\r\n                )\r\n            } else {\r\n                toast.error(data.message); \r\n            }\r\n        } catch (error) {\r\n            toast.error(`Exception`);\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n  \r\n    const toggleModal = () => setModal(!modal)\r\n\r\n    const edit = (e) => {\r\n        let {id} = e.target.dataset;\r\n        let product = rowData.find( item => item.id === parseInt(id))\r\n        setEditingProduct(product);\r\n        toggleModal()\r\n    }\r\n\r\n    const removeProduct = async e => {\r\n        if(window.confirm(\"Are you sure\")) {\r\n            const {id} = e.target.dataset;\r\n            try {\r\n                await deleteProduct({id}).unwrap(); \r\n                dispatch({ type:\"RESET_KART\" }) // the product could be already chosen in one\r\n            } catch (error) {\r\n                console.log(error.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    const labelStyle = {\r\n        cursor: 'pointer',\r\n        borderRadius: '10px',\r\n        height: '145px',\r\n        width: '145px'\r\n    }\r\n\r\n\r\n    useEffect(()=> {\r\n        if(catSuccess){\r\n            setCats(categories.categories)\r\n        }\r\n    },[catSuccess, categories])\r\n\r\n    useEffect(()=> {\r\n        if(taxAaGaya) setTaxes(taxess.taxes);\r\n    },[taxess, taxAaGaya])\r\n\r\n    useEffect(() => {\r\n        if(rowData.length) {\r\n            $(tableRef.current).DataTable({\r\n            //   paging: true,\r\n              data: rowData,\r\n              columns: [\r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name?.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row?.price}\r\n                                        <button class=\"btn btn-sm ms-2\" style=\"border:1px solid gray\"\r\n                                            onclick=\"()=> printBarcode(${row?.code})\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>    \r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                                \r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }, \r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row.price}\r\n                                        <button class=\"btn btn-sm ms-2\" style=\"border:1px solid gray\"\r\n                                            onclick=\"()=> printBarcode(${row.code})\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>    \r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                                \r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }, \r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row.price}\r\n                                        <button class=\"btn btn-sm ms-2 bcode\" style=\"border:1px solid gray\"\r\n                                            onclick=\"()=> printBarcode(${row.code})\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>\r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }\r\n              ],\r\n              searching: true,\r\n              info: true,\r\n              processing:true,\r\n              ordering: true,\r\n              lengthMenu:[ 10,25,50]\r\n            });\r\n            $(tableRef.current).on('click', '.image-container', e => refer(e))\r\n            $(tableRef.current).on('click', '.bcode.btn', e => printBarcode(e.target.dataset.code))\r\n        }\r\n        $.fn.DataTable.ext.errMode = 'none';\r\n        return () => $(tableRef.current).DataTable().destroy();\r\n\r\n      }, [view, rowData]);\r\n\r\n    useEffect(() => {\r\n        if(rowData.length) {\r\n            $(listtableRef.current).DataTable({\r\n                data: rowData,\r\n                columns: [\r\n                    /*\r\n                    \r\n                    Action*/\r\n                    { data: \"name\", title: \"Name\" },\r\n                    { data: \"catName\", title: \"Category\" },\r\n                    { \r\n                        data: null, \r\n                        title: \"Price\",\r\n                        render: (data,type, row) => {\r\n                            return `${currency} ${row.price}`\r\n                        }\r\n                    },\r\n                    { data: \"code\", title: \"Barcode\" },\r\n                    { data: \"weight\", title: \"Weight\" },\r\n                    {   \r\n                        data: null, \r\n                        title: \"Description\",\r\n                        render: (data, type, row) => {\r\n                            return `\r\n                                <p class=\"wrapped-text\">\r\n                                    ${wrapText(row.sales_desc??'', 25)}\r\n                                    <span class=\"${row.sales_desc?.length > 28? 'tooltiptext':`d-none`}\">${row.sales_desc}</span>\r\n                                </p>\r\n                            `\r\n                        }\r\n                    },\r\n                    {   \r\n                        data: null,\r\n                        title: \"Image\",\r\n                        render: (data, type, row) => {\r\n                            return `<div class=\"position-relative img\">\r\n                                <img \r\n                                    class='img-fluid img-thumbnail'\r\n                                    src=\"http://localhost:5100/images/${row.image}\" \r\n                                    alt=''\r\n                                    data-img=\"${row.image}\"\r\n                                    onerror=\"this.src='${labelImg}'\"\r\n                                />\r\n                            </div>`\r\n                        },\r\n\r\n                    },\r\n                    {\r\n                      data: null, // No direct data, render custom content\r\n                      title: \"Actions\",\r\n                      render: (data, type, row) => {\r\n                        return `\r\n                          <button class=\"edit-list btn btn-success btn-sm btn-rounded\" data-id=\"${row.id}\">Edit</button>\r\n                          <button class=\"barcode-list btn btn-success btn-sm btn-rounded\" data-code=\"${row.code}\">Barcode</button>\r\n                          <button class=\"delete-list btn btn-danger btn-sm btn-rounded\" data-id=\"${row.id}\">Delete</button>\r\n                        `;\r\n                      },\r\n                    },\r\n                ],\r\n                paging: true,\r\n                searching: true,\r\n                processing:true,\r\n                info: true,\r\n                ordering: true,\r\n                lengthMenu:[ 10,25,50]\r\n            });\r\n\r\n            $(listtableRef.current).on('click', '.edit-list.btn', e => {\r\n                edit(e)\r\n            })\r\n            $(listtableRef.current).on('click', '.barcode-list.btn', e => printBarcode(e.target.dataset.code))\r\n            $(listtableRef.current).on('click', '.delete-list.btn', e => removeProduct(e))\r\n            $(listtableRef.current).on('click', '.img-thumbnail', e => refer(e))\r\n        }\r\n        $.fn.DataTable.ext.errMode = 'none';\r\n        return () => $(listtableRef.current).DataTable().destroy();\r\n    }, [view, rowData]);\r\n\r\n    const handleView = view => {\r\n        if(view==='grid') {\r\n            $(listtableRef.current).DataTable().destroy();\r\n        } else {\r\n            $(tableRef.current).DataTable().destroy();\r\n        }\r\n        setView(view)\r\n    }\r\n\r\n    const printBarcode = (code) => {\r\n        if(window.electronAPI) {\r\n            window.electronAPI.generateBarcode(code)\r\n        } else {\r\n            Warning(\"Connect to a printer first!\")\r\n        }\r\n    }\r\n   \r\n    useEffect(()=> {\r\n        if(isSuccess)\r\n        { \r\n            setRowData(data.products)\r\n        }\r\n    },[isSuccess, data])\r\n  \r\n    return (\r\n        <> \r\n        <div className=\"row w-100 h-100 mt-4\"> \r\n            <div className=\"col-lg-12 grid-margin stretch-card\"> \r\n                <div className=\"card\">\r\n                    <div className=\"card-header\" >\r\n                            <div style={{display:'flex',alignItems:'end',justifyContent:'space-between'}}>\r\n                            <div/> \r\n                            <div className=\"d-flex flex-end\" style={{width:'140px',justifyContent:'space-around',alignItems:'center'}}>\r\n                                <button type=\"button\" className={`btn btn-outline-light btn-sm`} style={{ backgroundColor:view==='grid' && '#55aaad', color: view=== 'grid' && '#fff' }} onClick={()=>handleView('grid')} > Grid </button>\r\n                                <button type=\"button\" className={`btn btn-outline-light btn-sm`} style={{ backgroundColor:view==='list' && '#55aaad',color: view=== 'list' &&'#fff' }} onClick={()=>handleView('list')} > List </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        {view==='list' && <table className='table' ref={listtableRef} />}\r\n                        {view === 'grid' && (\r\n                            <table ref={tableRef} className='table grid-view' />\r\n                        )}\r\n                    </div>\r\n                   \r\n                    <Modal isOpen={modal} toggle={toggleModal} className=\"modal-md\" > \r\n                        <Form onSubmit={handleProductUpdate} id=\"updateForm\">\r\n                            <ModalHeader toggle={toggleModal}> Update Product </ModalHeader>\r\n                                <ModalBody >\r\n                                    <div className=\"col-md-12 d-flex justify-content-center\">\r\n                                        <div className=\"col-md-6\">\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"name\">Name</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" id=\"name\" name=\"name\" className=\"form-control\" onChange={changeProductField} defaultValue={editingProduct.name} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"price\">Price</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" id=\"price\" name=\"price\" pattern=\"^\\d+(\\.\\d+)?$\" title=\"price should be in numbers\" className=\"form-control\" defaultValue={ editingProduct.price } onChange={changeProductField} placeholder={currency}/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"barcode\"> Barcode </label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" name=\"code\" defaultValue={editingProduct.code} onChange={changeProductField} className=\"form-control\" id=\"barcode\" />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"tax\">Tax</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <select name=\"tax\" ref={selectRef} className=\"form-control select2\" id=\"tax\" onChange={changeProductField}>\r\n                                                        {taxes.map( tax => <option key={tax.id} value={tax.amount+' '+tax.name}>{tax.amount+' '+tax.name}</option>)}\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"category\">Category</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <select name=\"category_id\" className=\"form-control select2\" id=\"category\" onChange={changeProductField}>\r\n                                                        {cats.map( cat => <option key={cat.id} value={cat.id} selected={cat.name===editingProduct.catName}> {cat.name} </option>)}\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-4 offset-1 align-content-center\">\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"form-group position-relative img\">\r\n                                                    <h5> Update Image </h5>\r\n                                                    <label htmlFor=\"image\">\r\n                                                        <img \r\n                                                            src={ uploadedSrc ? uploadedSrc :`http://localhost:5100/images/${editingProduct.image}`} \r\n                                                            alt=\"\"\r\n                                                            onError={handleImgError} \r\n                                                            style={labelStyle}  \r\n                                                        />\r\n                                                    </label>\r\n                                                    <input name=\"image\" type=\"file\" id=\"image\" className=\"d-none\" onChange={handleFile} accept=\"image/*\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            <ModalFooter>\r\n                                <button className=\"btn btn-light btn-rounded\" type=\"button\" onClick={toggleModal}>\r\n                                    Close\r\n                                </button>\r\n                                <button className=\"btn btn-success btn-rounded\"> Update </button>\r\n                            </ModalFooter> \r\n                        </Form>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Products\r\n","import $ from 'jquery'\r\nimport toast from 'react-hot-toast';\r\nconst daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\nexport const validate = (fields,exceptions=[]) => {\r\n    let result={}\r\n    var shouldGo=true;\r\n    if(exceptions.length)\r\n    {\r\n        exceptions.forEach( item => {\r\n            delete fields[item]\r\n        })\r\n    }\r\n    Object.keys(fields).forEach(f =>\r\n    {\r\n        let shout = '';\r\n        let invalid = false;\r\n        let tInputs = [$(`input[name=${f}]`), $(`select[name=${f}]`), $(`textarea[name=${f}]`), $(`.${f}`)]\r\n        if(fields[f]==null || fields[f].length===0)\r\n        {\r\n            result[f]=`Required!`;\r\n            shouldGo=false;\r\n            invalid = true;\r\n        }\r\n        tInputs.forEach( input => {\r\n\r\n            let minLength = $(input).attr('type')!== 'date' ? $(input).attr('min'): 0;\r\n            let maxLength = $(input).attr('max');\r\n            let type = $(input).attr('cast');\r\n            let isDate = $(input).attr('type')==='date' && $(input).attr('req');\r\n            if($(input).val()?.length && (minLength || maxLength))\r\n            {\r\n                if($(input).val().length < parseInt(minLength))\r\n                { \r\n                    invalid = true;\r\n                    shout = `Should be of at least ${minLength} characters!`\r\n                    result[f] = shout;\r\n                }\r\n                if($(input).val().length > parseInt(maxLength))\r\n                { \r\n                    invalid = true;\r\n                    shout = `Should not be greater than ${maxLength} characters!`;\r\n                    result[f] = shout;\r\n                }\r\n            }\r\n            if(type)\r\n            { \r\n                if(input.val() && type === 'num')\r\n                {\r\n                    if(parseInt($(input).val().length )!== $(input).val().length) {\r\n                        shout= `Should be in numbers!`;\r\n                        invalid = true;\r\n                        result[f]= shout; \r\n                    }\r\n                }\r\n                if( $(input).val() && type=== 'str' )\r\n                {\r\n                    if( /^([^0-9]*)$/.test($(input).val())===false )\r\n                    {\r\n                        shout= `Should not contain numbers!`;\r\n                        invalid = true;\r\n                        result[f]= shout; \r\n                    }\r\n                }\r\n            }\r\n            if(isDate)\r\n            {\r\n                if(!isValidDate($(input).val(),18))\r\n                {\r\n                    invalid = true\r\n                    shout = 'Invalid date';\r\n                    result[f] = shout;\r\n                } else {\r\n                    shout = '';\r\n                }\r\n                // return\r\n            }\r\n            if(shout)   \r\n            {\r\n                if($(input).parents('.col-md-12, .col').find('small.text-danger').length)\r\n                {\r\n                    $(input).parents('.col-md-12, .col').find('small.text-danger').text(shout)\r\n                } else {\r\n                    $(input).parents('.col-md-12, .col').append('<small class=\"text-danger\">'+shout+'</small>')\r\n                }\r\n            } else {\r\n                $(input).parents('.col-md-12, .col').find('small.text-danger').remove()\r\n            }\r\n            if(invalid){\r\n                shouldGo = false;\r\n                $(input).addClass('placeholder-error')\r\n                .attr('placeholder',result[f]).css('border','1px solid red');\r\n            } else {\r\n                $(input).removeClass('placeholder-error').attr('placeholder',result[f]).css('border','');\r\n            }\r\n        })\r\n    })\r\n    return {result, shouldGo};\r\n}\r\n\r\nexport const getCurrentDate = (delimiter='-') => {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based\r\n    const day = String(today.getDate()).padStart(2, '0');\r\n    return `${year+delimiter+month+delimiter+day}`;\r\n}\r\n\r\nexport const formatDate = (date=null,format='Ymd') => {\r\n    const dateObj = date?new Date(date): new Date();\r\n    const year = dateObj.getFullYear();\r\n    const month = String(dateObj.getMonth() + 1).padStart(2, '0'); // Months are 0-based\r\n    const day = String(dateObj.getDate()).padStart(2, '0');\r\n    if(format[0]==='Y')\r\n    {\r\n        return `${year}-${month}-${day}`;\r\n    }\r\n    if(format[0]==='d')\r\n    {\r\n        return `${day}-${month}-${year}`;\r\n    }\r\n}\r\n\r\nexport const getCurrentDay = () => {\r\n    return daysOfWeek[(new Date()).getDay()];\r\n}\r\n\r\nexport const getCurrentTime = () => {\r\n    const currentDate = new Date();\r\n    const hours = String(currentDate.getHours()).padStart(2, '0');\r\n    const minutes = String(currentDate.getMinutes()).padStart(2, '0');\r\n    const seconds = String(currentDate.getSeconds()).padStart(2, '0');\r\n    return `${hours}:${minutes}:${seconds}`;\r\n}\r\nexport const toBase64 = blob => {\r\n\r\n}\r\n\r\nexport const dataURLtoFile = (dataurl, filename) => {\r\n    var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[arr.length - 1]), \r\n        n = bstr.length, \r\n        u8arr = new Uint8Array(n);\r\n    while(n--){\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, {type:mime});\r\n}\r\n\r\nexport const isValidDate = ( date, range ) => {\r\n    let today = getCurrentDate();\r\n    let year = today.split('-')[0];\r\n    let intended = new Date(today.replace(year, (parseInt(year)-range)));\r\n    return intended > new Date(date)\r\n}\r\n\r\nexport const capitalFirst = (string) => {\r\n    if (!string) return string; // Handle empty or null strings\r\n    if(string.includes(' ')){\r\n        let str= '';\r\n        string.split(' ').forEach( part => {\r\n           str+=' '+ part.charAt(0).toUpperCase() + part.slice(1); \r\n        })\r\n        return str;\r\n    }\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport const getDocumentName = id => {\r\n\r\n    const documents = {\r\n        1 : 'VISIT PHOTO',\r\n        2 : 'AADHAAR CARD',\r\n        3 : 'VOTER CARD',\r\n        4 : 'GROUP PHOTO',\r\n        5 : 'CGT_FIRST',\r\n        6 : 'CGT_SECOND',\r\n        7 : 'CIBIL',\r\n        8 : 'SANCTION LETTER',\r\n        9 : 'KYC',\r\n        10 : 'BANK PASSBOOK',\r\n        11 : 'RELATION PROOF DOCUMENT',\r\n    }\r\n    return documents[id];\r\n    \r\n}\r\n\r\nexport const Warning = msg => {\r\n    return toast(msg,\r\n        {\r\n          icon: '⚠️',\r\n          style: {\r\n            borderRadius: '10px',\r\n            background: '#333',\r\n            color: '#fff',\r\n          },\r\n        }\r\n    );\r\n}\r\n\r\nexport const hexToRgb = (hex) => {\r\n    // Remove the '#' if present\r\n\r\n    if(!hex || typeof hex == 'object'){\r\n        return hex\r\n    }\r\n\r\n    hex = hex.replace(/^#/, '');\r\n    // Convert shorthand hex (e.g., #03F) to full form (e.g., #0033FF)\r\n    if (hex.length === 3) {\r\n        hex = hex.split('').map(h => h + h).join('');\r\n    }\r\n    // Convert hex to RGB\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n\r\n    return { r, g, b };\r\n}\r\n\r\nexport const isColorDark = (hexColor) => {\r\n    // Convert hex color to RGB\r\n    let output = hexToRgb(hexColor)\r\n    if(output === undefined) return hexColor\r\n    const { r, g, b } = output\r\n\r\n    // Calculate the luminance\r\n    const luminance = 0.299 * r + 0.587 * g + 0.114 * b;\r\n\r\n    // Return true if the color is dark, else false\r\n    return luminance < 128;\r\n}\r\n\r\nexport function chunk(array, size, uncategorized = false) {\r\n    const result = [];\r\n    if(!array) return []\r\n    if(uncategorized) array.unshift({})\r\n    for (let i = 0; i < array.length; i += size) {\r\n        // Use slice to get a chunk of the specified size and push it to the result array\r\n        result.push(array.slice(i, i + size));\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const wrapText = (text, maxLength) => {\r\n\r\n    if (text?.length > maxLength) {\r\n        let truncatedText = text.substring(0, maxLength) + '...';\r\n        return truncatedText;\r\n    }\r\n    return text\r\n}\r\n\r\nexport const formatDatefromTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-based\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const hours = String(date.getHours()).padStart(2, '0');\r\n    const minutes = String(date.getMinutes()).padStart(2, '0');\r\n    const seconds = String(date.getSeconds()).padStart(2, '0');\r\n    return `${year}-${month}-${day} ${hours}:${minutes}`;\r\n};\r\n  "],"names":["Attachments","messageOrigin","preview","hasData","path","cModalBody","document","body","querySelectorAll","i","length","removeChild","oModalBody","appendChild","createElement","className","oImg","id","src","includes","file","dataURLtoFile","href","URL","createObjectURL","link","download","click","revokeObjectURL","events","previewCallback","data","onDisk","console","log","querySelector","oUL","toast","error","classList","add","onload","this","remove","$","viewer","window","Viewer","getElementById","title","hide","e","setTimeout","oContainer","target","element","show","onerror","process","load","oOuterDiv","tabIndex","setAttribute","oDialogDiv","style","width","oContentDiv","oAnchor","dataset","toggle","printOnCanvas","async","sFunction","oIframe","name","html","axios","get","Products","listtableRef","useRef","tableRef","selectRef","dispatch","useDispatch","categories","isSuccess","catSuccess","useGetProductCategoriesQuery","taxess","taxAaGaya","useGetTaxesQuery","deleteProduct","useDeleteProductMutation","rowData","setRowData","useState","currency","useSelector","state","auth","modal","setModal","useGetProductsQuery","editingProduct","setEditingProduct","cats","setCats","taxes","setTaxes","uploadedSrc","setPlaceholder","view","setView","changeProductField","_objectSpread","value","refer","img","arguments","undefined","filename","toggleModal","useEffect","current","DataTable","columns","render","type","row","_row$name","concat","wrapText","price","code","image","labelImg","searching","info","processing","ordering","lengthMenu","on","printBarcode","ext","errMode","destroy","_row$sales_desc","_row$sales_desc2","sales_desc","paging","product","find","item","parseInt","edit","confirm","unwrap","message","removeProduct","handleView","electronAPI","generateBarcode","Warning","products","_jsx","_Fragment","children","_jsxs","display","alignItems","justifyContent","backgroundColor","color","onClick","ref","Modal","isOpen","Form","onSubmit","preventDefault","fd","FormData","key","append","post","headers","localStorage","getItem","status","success","commonApiSlice","util","updateQueryData","draft","updated","index","findIndex","c","category_id","ModalHeader","ModalBody","htmlFor","onChange","defaultValue","pattern","placeholder","map","tax","amount","cat","selected","catName","alt","onError","cursor","borderRadius","height","files","reader","FileReader","readAsDataURL","uploaded","result","accept","ModalFooter","dataurl","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","capitalFirst","string","str","forEach","part","charAt","toUpperCase","slice","msg","icon","background","hexToRgb","hex","replace","h","join","r","g","b","isColorDark","hexColor","output","chunk","array","size","unshift","push","text","maxLength","substring","formatDatefromTimestamp","timestamp","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","getSeconds"],"sourceRoot":""}