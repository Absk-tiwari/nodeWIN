"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[17],{17:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(9379),l=a(5043),n=a(5989),o=a.n(n),r=a(1939),c=a(9722),i=a(3003),d=a(3216),p=a(3768),u=a(579);function h(){var e;const t=(0,d.Zp)(),a=(0,i.wA)(),n=(0,l.useRef)(),[h,m]=(0,l.useState)({email:"",password:""}),x=e=>m((0,s.A)((0,s.A)({},h),{},{[e.target.name]:e.target.value})),[y,g]=(0,l.useState)(null!==(e=localStorage.getItem("_keyboard_scale"))&&void 0!==e?e:1),[b,f]=(0,l.useState)(""),[j,v]=(0,l.useState)(""),[N,S]=(0,l.useState)("default"),k={borderRadius:"50px"},[w,A]=(0,l.useState)({x:window.screen.availWidth/1.55,y:window.screen.availHeight/4}),[C,T]=(0,l.useState)(!1),[I,E]=(0,l.useState)({x:0,y:0}),M=e=>{T(!0),E({x:e.clientX-w.x,y:e.clientY-w.y})},_=e=>{C&&A({x:e.clientX-I.x,y:e.clientY-I.y})},O=()=>T(!1);return(0,l.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.clearInput()}),[j]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"container-scroller",children:(0,u.jsx)("div",{className:"container-fluid page-body-wrapper auth full-page-wrapper",children:(0,u.jsx)("div",{className:"content-wrapper d-flex align-items-center auth px-0",children:(0,u.jsx)("div",{className:"row w-100 mx-0",children:(0,u.jsx)("div",{className:"col-lg-4",style:{marginLeft:"26%"},children:(0,u.jsxs)("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5",style:{borderRadius:"12px"},children:[(0,u.jsx)("center",{children:(0,u.jsx)("img",{src:r,alt:"logo",height:100,width:150})}),(0,u.jsx)("h4",{children:" Hello!"}),(0,u.jsx)("h6",{className:"fw-light",children:" Sign in to continue. "}),(0,u.jsxs)("form",{className:"pt-3",onSubmit:async e=>{e.preventDefault(),a({type:"LOADING"});try{c.A.post("auth/login",h).then((async e=>{let{data:s}=e;if(s.authToken)return localStorage.setItem("pos-token",s.authToken),localStorage.setItem("pos-user",JSON.stringify(s.user)),a({type:"SET_TOKEN",payload:s.authToken}),a({type:"SET_AUTH",payload:s.user}),a({type:"SET_ADMIN_STATUS",payload:"admin"===s.user.type}),a({type:"SET_CURRENCY",payload:s.currency}),t("/dashboard")})).catch((()=>{p.Ay.error("Invalid credentials!"),localStorage.clear()})).finally((()=>a({type:"STOP_LOADING"})))}catch(s){console.log(s),localStorage.clear()}},method:"POST",children:[(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"email",name:"email",style:k,className:"form-control form-control-lg",placeholder:"Enter email",onChange:x,value:h.email,onClick:()=>{f("email"),v("")}})}),(0,u.jsx)("div",{className:"form-group",children:(0,u.jsx)("input",{type:"password",name:"password",style:k,className:"form-control form-control-lg",placeholder:"Password",onChange:x,onClick:()=>{f("password"),v("sd")},defaultValue:h.password})}),(0,u.jsx)("div",{className:"mt-3 d-grid gap-2",children:(0,u.jsx)("button",{className:"btn btn-block btn-primary btn-lg fw-medium auth-form-btn",style:k,type:"submit",children:"SIGN IN"})}),(0,u.jsx)("div",{className:"my-2 d-flex justify-content-center align-items-center"})]})]})})})})})}),b&&(0,u.jsx)("div",{className:"mt-4 position-fixed w-50",style:{zIndex:9999,top:60},children:(0,u.jsx)("div",{style:{overflow:"hidden",position:"relative",touchAction:"none"},onMouseMove:_,onTouchMove:_,onMouseUp:O,onTouchEnd:O,children:(0,u.jsxs)("div",{style:{position:"fixed",top:"".concat(w.y,"px"),left:"".concat(w.x,"px"),cursor:C?"grabbing":"grab",zIndex:1e3,width:700,resize:"both",touchAction:"none",overflow:"auto",transform:"scale(".concat(y,")"),transformOrigin:"top center"},children:[(0,u.jsx)("div",{onMouseDown:M,onTouchStart:M,style:{background:"#444",color:"#fff",padding:10,cursor:"grab",textAlign:"center",borderRadius:"8px 8px 0 0",touchAction:"none"},children:"Hold To Drag"}),(0,u.jsx)(o(),{onChange:e=>{m((0,s.A)((0,s.A)({},h),{},{[b]:e}))},onKeyPress:e=>{"{lock}"===e&&S((e=>"default"===e?"shift":"default"))},keyboardRef:e=>n.current=e,layout:{default:["1 2 3 4 5 6 7 8 9 0","! @ # $ % ^ & * {bksp}","q w e r t y u i o p","{lock} a s d f g h j k l","z x c v b n m .","{space}"],shift:["1 2 3 4 5 6 7 8 9 0","! @ # $ % ^ & * {bksp}","Q W E R T Y U I O P","{lock} A S D F G H J K L","Z X C V B N M .","{space}"]},display:{"{lock}":"Caps","{bksp}":"Backspace","{space}":"Space"},layoutName:N}),(0,u.jsxs)("div",{className:"bg-white d-flex board-navs",style:{justifyContent:"space-between",padding:"5px 20px"},children:[(0,u.jsx)("button",{className:"btn btn-light btn-rounded",onClick:()=>{m((0,s.A)((0,s.A)({},h),{},{[b]:""}))},style:{border:"1px solid gray"},children:"CLEAR"}),(0,u.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.max(y-.1,.5)),g((e=>Math.max(e-.1,.5)))},children:"-"}),(0,u.jsxs)("span",{style:{placeContent:"center"},children:[" Size: ",Math.round(100*y),"% "]}),(0,u.jsx)("button",{style:{border:"1px solid"},className:"btn btn-light btn-rounded",onClick:()=>{localStorage.setItem("_keyboard_scale",Math.min(JSON.parse(y)+.1,2)),g((e=>Math.min(JSON.parse(e)+.1,2)))},children:"+"}),(0,u.jsx)("button",{onClick:()=>f(""),className:"btn btn-light btn-rounded",style:{border:"1px solid gray"},children:"HIDE"})]})]})})})]})}},1939:(e,t,a)=>{e.exports=a.p+"static/media/logo.2d2e09f65e21f53b1f9f.png"}}]);
//# sourceMappingURL=17.a83ed079.chunk.js.map