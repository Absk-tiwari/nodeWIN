{"version":3,"file":"static/js/539.49145353.chunk.js","mappings":"uKAKe,SAASA,EAAWC,GAAuC,IAADC,EAAA,IAArC,IAACC,EAAIC,OAAOC,OAAOC,YAAc,GAAEL,EAEnE,MAAM,eAACM,EAAc,QAAEC,EAAO,WAAEC,IAAcC,EAAAA,EAAAA,MACvCC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CAACC,EAAGV,OAAOC,OAAOU,WAAa,EAAGC,EAAGb,KACvEc,EAAUC,IAAeL,EAAAA,EAAAA,WAAS,IAClCM,EAAQC,IAAaP,EAAAA,EAAAA,UAAS,CAAGC,EAAG,EAAGE,EAAG,IAE3CK,GAAcC,EAAAA,EAAAA,QAAO,OAkBpBC,EAAOC,IAAYX,EAAAA,EAAAA,UAAgD,QAAxCX,EAACuB,aAAaC,QAAQ,0BAAkB,IAAAxB,EAAAA,EAAE,GAW5E,OACIyB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,sCAAsCC,MAAO,CAACC,OAAO,KAAMC,IAAI,IAAKC,UAC/EL,EAAAA,EAAAA,KAAA,OACIE,MAAO,CACHI,SAAU,SACVtB,SAAU,YAEduB,YA3BaC,IAChBlB,GACLL,EAAY,CACRE,EAAGqB,EAAEC,QAAUjB,EAAOL,EACtBE,EAAGmB,EAAEE,QAAUlB,EAAOH,GACxB,EAuBMsB,UArBUC,IAAMrB,GAAY,GAqBHc,UAEzBQ,EAAAA,EAAAA,MAAA,OACIX,MAAO,CACHlB,SAAU,QACVoB,IAAI,GAADU,OAAK9B,EAASK,EAAC,MAClB0B,KAAK,GAADD,OAAK9B,EAASG,EAAC,MACnB6B,OAAQ1B,EAAW,WAAa,OAChCa,OAAQ,IACRc,MAAM,IACNC,OAAO,OACPZ,SAAS,OACTa,UAAU,SAADL,OAAWlB,EAAK,KAAKwB,gBAAiB,cACjDf,SAAA,EAEFL,EAAAA,EAAAA,KAAA,OACAqB,YApDSb,IACrBjB,GAAY,GACZE,EAAU,CACRN,EAAGqB,EAAEC,QAAUzB,EAASG,EACxBE,EAAGmB,EAAEE,QAAU1B,EAASK,GACxB,EAgDca,MAAO,CACHoB,WAAY,OACZC,MAAO,OACPC,QAAS,GACTR,OAAQ,OACRS,UAAW,SACXC,aAAc,eAChBrB,SACL,kBAGGL,EAAAA,EAAAA,KAAC2B,IAAQ,CACLC,SAnEPC,GAASjD,EAAeiD,GAoEjBnC,YAAcoC,GAAOpC,EAAYqC,QAAUD,EAC3CE,OAAQ,CACJC,QAAS,CACT,sBACA,sBACA,oBACA,uBACA,eAGZpB,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,6BAA6BC,MAAO,CAACgC,eAAe,gBAAgBV,QAAQ,YAAYnB,SAAA,EACnGL,EAAAA,EAAAA,KAAA,UAAQC,UAAU,4BACdkC,QAASA,KAAKvD,EAAe,IAAIc,EAAYqC,QAAQK,YAAY,EACjElC,MAAO,CAACmC,OAAO,kBAAkBhC,SAAC,WACtCL,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAACmC,OAAO,aAAcpC,UAAU,4BAA4BkC,QA7D9EG,KACbxC,aAAayC,QAAQ,kBAAmBC,KAAKC,IAAI7C,EAAQ,GAAK,KAC9DC,GAAS6C,GAAQF,KAAKC,IAAIC,EAAO,GAAK,KAAK,EA2DkErC,SAAC,OAC9FQ,EAAAA,EAAAA,MAAA,QAAMZ,UAAU,uBAAsBI,SAAA,CAAC,IAAEmC,KAAKG,MAAc,IAAR/C,GAAa,SACjEI,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAACmC,OAAO,aAAcpC,UAAU,4BAA4BkC,QA3D9ES,KACb9C,aAAayC,QAAQ,kBAAmBC,KAAKK,IAAIC,KAAKC,MAAMnD,GAAS,GAAK,IAC1EC,GAAS6C,GAAQF,KAAKK,IAAIC,KAAKC,MAAML,GAAQ,GAAK,IAAG,EAyDwDrC,SAAC,OAC9FL,EAAAA,EAAAA,KAAA,UAAQmC,QAASA,IAAIrD,GAAYD,GAAUoB,UAAU,4BAA4BC,MAAO,CAACmC,OAAO,kBAAkBhC,SAAC,kBAM3I,C,4LChGI2C,EACJ,CACIC,cAAe,KACfC,QAAS,SAASC,EAASC,GAGvB,IAAIC,EAAWC,SAASC,KAAKC,iBAAiB,6BAC9C,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAWK,OAAQD,IAEnCH,SAASC,KAAKI,YAAYN,EAAWI,IAGzC,IACIG,EAAWN,SAASC,KAAKM,YAAYP,SAASQ,cAAc,QAChEF,EAAW3D,UAAU,2BACrB,IAAI8D,EAAKH,EAAWC,YAAYP,SAASQ,cAAc,QAAQD,YAAYP,SAASQ,cAAc,QAKlG,GAJAC,EAAKC,GAAG,QACRD,EAAKE,IALW,6DAMRL,EAAWC,YAAYP,SAASQ,cAAc,QAAQD,YAAYP,SAASQ,cAAc,OAC7FE,GAAG,SACJb,EACH,CACI,GAAGA,EAAQ,GAAGe,SAAS,mBACvB,CACI,IAAIC,GAAOC,EAAAA,EAAAA,IAAcjB,EAAQ,GAAG,WACpC,MAAMkB,EAAOC,IAAIC,gBAAgBJ,GAC3BK,EAAOlB,SAASQ,cAAc,KAoBpC,OAnBAU,EAAKH,KAAQA,EACbG,EAAKC,SAAS,YACdnB,SAASC,KAAKM,YAAYW,GAC1BA,EAAKE,QACLpB,SAASC,KAAKI,YAAYa,QAC1BF,IAAIK,gBAAgBN,EAexB,CACArB,EAAY4B,OAAOC,gBAAgB1B,EAASC,EAChD,CAoBJ,EACAwB,OACA,CACIC,gBAAiB,SAAUC,EAAMC,GAE7BC,QAAQC,IAAIH,EAAKC,GACjB,IAAInB,EAAWN,SAAS4B,cAAc,6BAClCC,EAAI7B,SAAS4B,cAAc,gCAEX,IAAhBJ,EAAKpB,QACL0B,EAAAA,GAAMC,MAAM,yBAGhB,IAAK,IAAI5B,EAAI,EAAGA,EAAIqB,EAAKpB,OAAQD,IACjC,CACI,IAAIM,EAAMoB,EAAItB,YAAYP,SAASQ,cAAc,OAAOD,YAAYP,SAASQ,cAAc,QAC3FC,EAAK9D,UAAU,WACf8D,EAAKC,GAAG,SAASP,EACjBM,EAAKuB,UAAUC,IAAI,gBACnBxB,EAAKyB,OAAO,WAGR,GADAC,KAAKH,UAAUI,OAAO,gBACwC,IAA1DC,IAAE,6CAA6CjC,OACnD,CACIE,EAAWsB,cAAc,aAAajB,IAAKkB,EAAID,cAAc,sBAAsBjB,IACnF,IAAI2B,EAAO,IAAInH,OAAOoH,OAAOvC,SAASwC,eAAe,UAAW,CAC5DC,OAAO,EACPC,KAAM,SAASxF,GAEXyF,YAAW,SAASL,GAEhB,IAAIM,EAAW5C,SAASC,KAAK2B,cAAc,yBACxCgB,GACC5C,SAASC,KAAKI,YAAYuC,EAElC,GAAG,IAAM1F,EAAE2F,OAAOP,OACtB,IAEkD,IAAlDA,EAAOQ,QAAQ5C,iBAAiB,OAAOE,OACvCJ,SAASC,KAAK+B,UAAUC,IAAI,aAE5BjC,SAASC,KAAK+B,UAAUI,OAAO,aAEnCE,EAAOS,MACX,CACJ,EACAtC,EAAKuC,QAAU,WACXlB,EAAAA,GAAMC,MAAM,gDAChB,EAEAtB,EAAKE,IAAMc,EA1CFwB,gCA0CiBzB,EAAKrB,GAAIqB,EAAKrB,EAC5C,CACJ,EACA+C,KAAM,WAEF,GAAiD,OAA7ClD,SAAS4B,cAAc,kBAC3B,CACI,IAAIuB,EAAUnD,SAASC,KAAKM,YAAYP,SAASQ,cAAc,QAC/D2C,EAAUxG,UAAU,2BACpBwG,EAAUC,SAAS,KACnBD,EAAUE,aAAa,OAAQ,UAC/BF,EAAUE,aAAa,cAAe,QAEtC,IAAIC,EAAWH,EAAU5C,YAAYP,SAASQ,cAAc,QAC5D8C,EAAW3G,UAAU,qCACrB2G,EAAW1G,MAAMe,MAAM,OAEvB,IAAI4F,EAAYD,EAAW/C,YAAYP,SAASQ,cAAc,QAC9D+C,EAAY5G,UAAU,gBACtB4G,EAAYhD,YAAYP,SAASQ,cAAc,QAAQG,IAAI,uBAE3D,IAAI6C,EAAQxD,SAASC,KAAKM,YAAYP,SAASQ,cAAc,MAC7DgD,EAAQ7G,UAAU,+BAClB6G,EAAQC,QAAQC,OAAO,QACvBF,EAAQC,QAAQZ,OAAO,gBAC3B,CACJ,GAEJc,cAAeC,eAAelD,EAAImD,GAE9B,IAAIC,EAAQ9D,SAAS4B,cAAc,yBACnB,OAAZkC,IACAA,EAAQ9D,SAASQ,cAAc,UAC/BsD,EAAQC,KAAK,SACb/D,SAASC,KAAKM,YAAYuD,IAK9B,IAAIE,EAAO,IACP,KAACxC,SAAcyC,EAAAA,EAAMC,IAAI,SAC7BF,EAAOxC,CAkBX,G,8DC1KJ,MAikBA,EAjkBiB2C,KAEb,MAAMC,GAAe/H,EAAAA,EAAAA,UACfgI,GAAWhI,EAAAA,EAAAA,UACXiI,GAAYjI,EAAAA,EAAAA,UACZD,GAAcC,EAAAA,EAAAA,UACdkI,GAAWC,EAAAA,EAAAA,OAEVhD,KAAKiD,EAAYC,UAAUC,IAAcC,EAAAA,EAAAA,OACzCpD,KAAKqD,EAAQH,UAAUI,IAAaC,EAAAA,EAAAA,OACnCC,IAAkBC,EAAAA,EAAAA,OACpB,YAAEC,EAAW,eAAE5J,EAAc,QAAEC,EAAO,WAAEC,IAAcC,EAAAA,EAAAA,MACpD0J,EAAcC,IAAoBxJ,EAAAA,EAAAA,UAAS,OAC3CyJ,EAAYC,IAAc1J,EAAAA,EAAAA,WAAS,IACpC2J,EAASC,IAAc5J,EAAAA,EAAAA,UAAS,KACjC,SAAC6J,IAAaC,EAAAA,EAAAA,KAAaC,GAAQA,EAAMC,QACxCC,EAAOC,IAAalK,EAAAA,EAAAA,WAAS,IAC9B,KAAE4F,EAAI,UAAEkD,IAAcqB,EAAAA,EAAAA,MAC5B,IAAMC,EAAgBC,IAAsBrK,EAAAA,EAAAA,UAAS,CAAC,GACtD,MAAQsK,EAAMC,IAAYvK,EAAAA,EAAAA,UAAS,KAC3BwK,EAAOC,IAAazK,EAAAA,EAAAA,UAAS,KAC7B0K,EAAaC,IAAmB3K,EAAAA,EAAAA,UAAS,KACzC4K,EAAMC,IAAW7K,EAAAA,EAAAA,UAAS,SAC1BU,GAAOC,KAAaX,EAAAA,EAAAA,UAAS,GAC/B8K,GAAqBxJ,GAAK+I,GAAiBU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIX,GAAc,IAAE,CAAC9I,EAAE2F,OAAOkB,MAAO7G,EAAE2F,OAAO+D,UAE1FlL,GAAUC,KAAeC,EAAAA,EAAAA,UAAS,CAAEC,EAAGV,OAAOC,OAAOU,WAAW,EAAGC,EAAGZ,OAAOC,OAAOC,YAAc,KAClGW,GAAUC,KAAeL,EAAAA,EAAAA,WAAS,IAClCM,GAAQC,KAAaP,EAAAA,EAAAA,UAAS,CAAEC,EAAG,EAAGE,EAAG,IA+B1C8K,GAAQ3J,IACV,IAAI,IAAC4J,GAAO5J,EAAE2F,OAAOY,SDiH7B,WACC,IADgB5D,EAAOkH,UAAA3G,OAAA,QAAA4G,IAAAD,UAAA,GAAAA,UAAA,GAAC,KAAKE,EAAQF,UAAA3G,OAAA,QAAA4G,IAAAD,UAAA,GAAAA,UAAA,GAAC,KAAMjH,EAAIiH,UAAA3G,OAAA,QAAA4G,IAAAD,UAAA,IAAAA,UAAA,GAE7CrH,EAAYE,QAASC,EAASoH,EAAUnH,EAC5C,CCnHQF,CAAQ,CAACkH,IAAM,EAAK,EAsDlBI,GAAcA,KAChBpB,GAAUD,GACVU,EAAe,GAAG,GAEfY,GAAQC,KAAaxL,EAAAA,EAAAA,UAAS,KAkCrCyL,EAAAA,EAAAA,YAAU,KACH1C,GACCwB,EAAQ1B,EAAWA,WACvB,GACF,CAACE,EAAYF,KAEf4C,EAAAA,EAAAA,YAAU,KACHvC,GAAWuB,EAASxB,EAAOuB,MAAM,GACtC,CAACvB,EAAQC,KAEXuC,EAAAA,EAAAA,YAAU,KACH9B,EAAQnF,SACPiC,IAAEgC,EAAS5F,SAAS6I,UAAU,CAC5B9F,KAAM+D,EACNgC,QAAS,CACP,CACI9E,MAAO,GACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,KAAS,IAADC,EACzB,MAAM,2NAANnK,QAG2CoK,EAAAA,EAAAA,IAASF,EAAI3D,KAAM,IAAG,iBAAAvG,QAAwB,QAARmK,EAAAD,EAAI3D,YAAI,IAAA4D,OAAA,EAARA,EAAUvH,QAAS,GAAI,cAAc,SAAQ,MAAA5C,OAAKkK,EAAI3D,KAAI,sKAAAvG,OAGlHiI,EAAS,KAAO,OAAHiC,QAAG,IAAHA,OAAG,EAAHA,EAAKG,OAAK,iiBAAArK,OAQCkK,EAAII,MAAK,0BAAAtK,OAAwBuK,EAAQ,gJAAAvK,OACakK,EAAII,MAAK,oKAMxH,CACIrF,MAAO,GACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,IACX,2NAANlK,QAG2CoK,EAAAA,EAAAA,IAASF,EAAI3D,KAAM,IAAG,iBAAAvG,OAAgBkK,EAAI3D,KAAK3D,OAAS,GAAI,cAAc,SAAQ,MAAA5C,OAAKkK,EAAI3D,KAAI,sKAAAvG,OAGjHiI,EAAS,IAAIiC,EAAIG,MAAK,iiBAAArK,OAQEkK,EAAII,MAAK,0BAAAtK,OAAwBuK,EAAQ,gJAAAvK,OACakK,EAAII,MAAK,mKAMxH,CACIrF,MAAO,GACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,IACX,2NAANlK,QAG2CoK,EAAAA,EAAAA,IAASF,EAAI3D,KAAM,IAAG,iBAAAvG,OAAgBkK,EAAI3D,KAAK3D,OAAS,GAAI,cAAc,SAAQ,MAAA5C,OAAKkK,EAAI3D,KAAI,sKAAAvG,OAGjHiI,EAAS,IAAIiC,EAAIG,MAAK,6hBAAArK,OAQEkK,EAAII,MAAK,0BAAAtK,OAAwBuK,EAAQ,gJAAAvK,OACakK,EAAII,MAAK,kIAM1HE,WAAW,EACXC,MAAM,EACNC,YAAW,EACXC,UAAU,EACVC,WAAW,CAAE,GAAG,GAAG,MAErB/F,IAAEgC,EAAS5F,SAAS4J,GAAG,QAAS,oBAAoBnL,GAAK2J,GAAM3J,KAC/DmF,IAAEgC,EAAS5F,SAAS4J,GAAG,QAAS,cAAcnL,GAAKoL,GAAapL,EAAE2F,OAAOY,QAAQ8E,SAErFlG,IAAAA,GAAKiF,UAAUkB,IAAIC,QAAU,OACtB,KACHpG,IAAEgC,EAAS5F,SAASiK,IAAI,QAAS,oBACjCrG,IAAEgC,EAAS5F,SAASiK,IAAI,QAAS,cACjCrG,IAAEgC,EAAS5F,SAAS6I,YAAYqB,SAAS,IAG5C,CAACnC,EAAMjB,KAEZ8B,EAAAA,EAAAA,YAAU,KACH9B,EAAQnF,SACPiC,IAAE+B,EAAa3F,SAAS6I,YAAYqB,UACpCtG,IAAE+B,EAAa3F,SAAS6I,UAAU,CAC9B9F,KAAM+D,EACNgC,QAAS,CAIL,CAAE/F,KAAM,OAAQiB,MAAO,QACvB,CAAEjB,KAAM,UAAWiB,MAAO,YAC1B,CACIjB,KAAM,KACNiB,MAAO,QACP+E,OAAQA,CAAChG,EAAKiG,EAAMC,IACV,GAANlK,OAAUiI,EAAQ,KAAAjI,OAAIkK,EAAIG,QAGlC,CAAErG,KAAM,OAAQiB,MAAO,WACvB,CAAEjB,KAAM,SAAUiB,MAAO,UACzB,CACIjB,KAAM,KACNiB,MAAO,cACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,KAAS,IAADkB,EAAAC,EACzB,MAAM,mGAANrL,QAEUoK,EAAAA,EAAAA,IAAuB,QAAfgB,EAAClB,EAAIoB,kBAAU,IAAAF,EAAAA,EAAE,GAAI,IAAG,uDAAApL,QACL,QAAdqL,EAAAnB,EAAIoB,kBAAU,IAAAD,OAAA,EAAdA,EAAgBzI,QAAS,GAAI,cAAc,SAAQ,MAAA5C,OAAKkK,EAAIoB,WAAU,iFAKrG,CACItH,KAAM,KACNiB,MAAO,QACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,IACX,4NAANlK,OAG4CkK,EAAII,MAAK,oGAAAtK,OAEjCkK,EAAII,MAAK,+DAAAtK,OACAuK,EAAQ,gFAM7C,CACEvG,KAAM,KACNiB,MAAO,UACP+E,OAAQA,CAAChG,EAAMiG,EAAMC,IACb,qGAANlK,OAC0EkK,EAAIhH,GAAE,0HAAAlD,OACDkK,EAAIa,KAAI,yHAAA/K,OACZkK,EAAIhH,GAAE,iDAKzFqI,QAAQ,EACRf,WAAW,EACXE,YAAW,EACXD,MAAM,EACNE,UAAU,EACVC,WAAW,CAAE,GAAG,GAAG,MAGvB/F,IAAE+B,EAAa3F,SAAS4J,GAAG,QAAS,kBAAkBnL,IA7MhDA,KACV,IAAI,GAACwD,GAAMxD,EAAE2F,OAAOY,QAChBuF,EAAUzD,EAAQ0D,MAAMC,GAAQA,EAAKxI,KAAOyI,SAASzI,KACzDuF,EAAkB+C,GAClBlD,GAAS,EAAK,EA0MNsD,CAAKlM,EAAE,IAEXmF,IAAE+B,EAAa3F,SAAS4J,GAAG,QAAS,qBAAqBnL,GAAKoL,GAAapL,EAAE2F,OAAOY,QAAQ8E,QAC5FlG,IAAE+B,EAAa3F,SAAS4J,GAAG,QAAS,oBAAoBnL,GArM1C0G,WAClB,GAAGzI,OAAOkO,QAAQ,gBAAiB,CAC/B,MAAM,GAAC3I,GAAMxD,EAAE2F,OAAOY,QACtB,UACUuB,EAAc,CAACtE,OAAK4I,SAC1B/E,EAAS,CAAEkD,KAAK,cACpB,CAAE,MAAO1F,GACLL,QAAQC,IAAII,EAAMwH,QACtB,CACJ,GA4LiEC,CAActM,KAC3EmF,IAAE+B,EAAa3F,SAAS4J,GAAG,QAAS,kBAAkBnL,GAAK2J,GAAM3J,KACjEmF,IAAE+B,EAAa3F,SAAS4J,GAAG,QAAS,wBAAwBnL,GA5MrDA,KACX1B,GAAW,GACXF,EAAe4B,EAAE2F,OAAO+D,MAAM,EA0MuC6C,CAAOvM,KACxEmF,IAAE,aAAagG,GAAG,SAAS,IAAK7M,GAAW,MAE/C6G,IAAAA,GAAKiF,UAAUkB,IAAIC,QAAU,OACtB,KACHpG,IAAE+B,EAAa3F,SAASiK,IAAI,QAAS,qBACrCrG,IAAE+B,EAAa3F,SAASiK,IAAI,QAAS,oBACrCrG,IAAE+B,EAAa3F,SAASiK,IAAI,QAAS,kBACrCrG,IAAE+B,EAAa3F,SAASiK,IAAI,QAAS,wBACrCrG,IAAc,OAAZ+B,QAAY,IAAZA,OAAY,EAAZA,EAAc3F,SAAS6I,YAAYqB,SAAS,IAGnD,CAACnC,EAAMjB,KAEV8B,EAAAA,EAAAA,YAAU,KACNhF,IAAE,aAAaqH,IAAIxE,GAAayE,QAAQ,SACjC,IAAMrO,EAAe,MAC9B,CAAC4J,KAEHmC,EAAAA,EAAAA,YAAU,KAAM,IAADuC,EACQ,QAAnBA,EAAAxN,EAAYqC,eAAO,IAAAmL,GAAnBA,EAAqBC,SAAS1C,GAAO,GACvC,CAACA,KAEH,MAAM2C,GAAatD,IACL,SAAPA,EACCnE,IAAE+B,EAAa3F,SAAS6I,YAAYqB,UAEpCtG,IAAEgC,EAAS5F,SAAS6I,YAAYqB,UAEpClC,EAAQD,EAAK,EAGX8B,GAAgBC,IACfpN,OAAO4O,YACN5O,OAAO4O,YAAYC,gBAAgBzB,IAEnC0B,EAAAA,EAAAA,IAAQ,8BACZ,EAWJ,OARA5C,EAAAA,EAAAA,YAAU,KACH3C,GAECc,EAAWhE,EAAK0I,UAEb,IAAK1E,EAAW,MACzB,CAACd,EAAWlD,KAGVjE,EAAAA,EAAAA,MAAA4M,EAAAA,SAAA,CAAApN,SAAA,EACAL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBI,UACjCL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qCAAoCI,UAC/CQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,OAAMI,SAAA,EACjBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaI,UACpBQ,EAAAA,EAAAA,MAAA,OAAKX,MAAO,CAACwN,QAAQ,OAAOC,WAAW,MAAMzL,eAAe,iBAAiB7B,SAAA,EAC7EL,EAAAA,EAAAA,KAAA,WACAa,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,kBAAkBC,MAAO,CAACe,MAAM,QAAQiB,eAAe,eAAeyL,WAAW,UAAUtN,SAAA,EACtGL,EAAAA,EAAAA,KAAA,UAAQ+K,KAAK,SAAS9K,UAAS,+BAAkCC,MAAO,CAAE0N,gBAAuB,SAAP9D,GAAiB,UAAWvI,MAAe,SAARuI,GAAkB,QAAU3H,QAASA,IAAIiL,GAAW,QAAQ/M,SAAE,YAC3LL,EAAAA,EAAAA,KAAA,UAAQ+K,KAAK,SAAS9K,UAAS,+BAAkCC,MAAO,CAAE0N,gBAAuB,SAAP9D,GAAiB,UAAUvI,MAAe,SAARuI,GAAiB,QAAU3H,QAASA,IAAIiL,GAAW,QAAQ/M,SAAE,oBAIrMQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,6BAA4BI,SAAA,CAC/B,SAAPyJ,IAAiB9J,EAAAA,EAAAA,KAAA,SAAOC,UAAU,QAAQ4N,IAAKnG,IACtC,SAAToC,IAAmB9J,EAAAA,EAAAA,KAAA,SAAO6N,IAAKlG,EAAU1H,UAAU,oBACjC,IAAlB4I,EAAQnF,SAAe1D,EAAAA,EAAAA,KAAA,MAAAK,SAAI,0BAGhCL,EAAAA,EAAAA,KAAC8N,EAAAA,EAAK,CAACC,OAAQ5E,EAAOnC,OAAQwD,GAAavK,UAAU,WAAUI,UAC3DQ,EAAAA,EAAAA,MAACmN,EAAAA,EAAI,CAACC,SA9UE/G,UACxB1G,EAAE0N,iBACF,IAAIC,EAAK,IAAIC,SACb7E,GAAiBU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIX,GAAc,IAAE+E,YAAa7E,EAAK+C,MAAK+B,GAAKA,EAAEjH,OAASiC,EAAwB,UAAGtF,MACzG,IAAK,MAAMuK,KAAOjF,EACL,YAANiF,GAAiBJ,EAAGK,OAAOD,EAAKjF,EAAeiF,IAEtD,IAAIE,EAAMjF,EAAK+C,MAAM+B,GAAKA,EAAEtK,KAAOyI,SAASnD,EAAe+E,eAAchH,KACzE8G,EAAGK,OAAO,UAAWC,GACrB,IACI,MAAM,KAAC3J,SAAcyC,EAAAA,EAAMmH,KAAK,kBAAmBP,EAAI,CACnDQ,QAAS,CACL,OAAU,mBACV,eAAiB,sBACjB,YAAc7O,aAAaC,QAAQ,gBAGxC+E,EAAK8J,QACJxJ,EAAAA,GAAMyJ,QAAQ,oBACdhH,EACIiH,EAAAA,GAAeC,KAAKC,gBAAgB,mBAAe1E,GAAY2E,IAC3D,MAAM,SAACzB,GAAYyB,GACb,QAACC,GAAWpK,EACZqK,EAAQ3B,EAAS4B,WAAW5C,GAASA,EAAKxI,KAAOyI,SAASyC,EAAQlL,OACzD,IAAXmL,IACAF,EAAgB,SAAEE,GAASD,EAC3BD,EAAgB,SAAEE,GAAgB,QAAI3F,EAAK+C,MAAM+B,GAAKA,EAAEtK,KAAOkL,EAAQb,cAAahH,KACxF,KAGRQ,EACIiH,EAAAA,GAAeC,KAAKC,gBAAgB,sBAAkB1E,GAAW2E,IAC7D,MAAM,SAACzB,GAAYyB,GACb,QAACC,GAAWpK,EACZqK,EAAQ3B,EAAS4B,WAAW5C,GAASA,EAAKxI,KAAOyI,SAASyC,EAAQlL,OACzD,IAAXmL,IAAcF,EAAgB,SAAEE,GAASD,EAAO,MAI5D9J,EAAAA,GAAMC,MAAMP,EAAK+H,QAEzB,CAAE,MAAOxH,GACLD,EAAAA,GAAMC,MAAM,aACZL,QAAQC,IAAII,EAChB,GAkSqDrB,GAAG,aAAY3D,SAAA,EAChDL,EAAAA,EAAAA,KAACqP,EAAAA,EAAW,CAAAhP,SAAE,sBACVL,EAAAA,EAAAA,KAACsP,EAAAA,EAAS,CAAAjP,UACNQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,0CAAyCI,SAAA,EACpDQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBI,UACpCL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,OAAMlP,SAAC,YAE1BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOI,UAClBL,EAAAA,EAAAA,KAAA,SAAO+K,KAAK,OAAO/G,GAAG,OAAOqD,KAAK,OAAOpH,UAAU,eAAe2B,SAAUoI,GAC5EE,MAAOZ,EAAejC,KAAMlF,QAASA,KAAKuG,EAAgB,QAAQgC,GAAUpB,EAAejC,KAAK,UAGxGxG,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBI,UACpCL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,QAAOlP,SAAC,aAE3BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOI,UAClBL,EAAAA,EAAAA,KAAA,SAAO+K,KAAK,OAAO/G,GAAG,QAAQqD,KAAK,QAAQmI,QAAQ,mBAAgBzJ,MAAM,6BAA6B9F,UAAU,eAAeiK,MAAQZ,EAAe6B,MAAQvJ,SAAUoI,GACxKyF,YAAa1G,EACb5G,QAASA,KAAKuG,EAAgB,SAASgC,GAAUpB,EAAe6B,MAAM,UAI9EtK,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBI,UACpCL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,UAASlP,SAAC,iBAE7BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOI,UAClBL,EAAAA,EAAAA,KAAA,SAAO+K,KAAK,OAAO1D,KAAK,OAAO6C,MAAOZ,EAAeuC,KACjDjK,SAAUoI,GACV/J,UAAU,eACV+D,GAAG,UACH7B,QAASA,KAAKuG,EAAgB,QAAQgC,GAAUpB,EAAeuC,KAAK,UAIhFhL,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBI,UACpCL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,MAAKlP,SAAC,WAEzBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOI,UAClBQ,EAAAA,EAAAA,MAAA,UAAQwG,KAAK,MAAMwG,IAAKjG,EAAW3H,UAAU,uBAAuB+D,GAAG,MAAMpC,SAAUoI,GAAmB3J,SAAA,EACtGL,EAAAA,EAAAA,KAAA,UAAQkK,MAAO,GAAG7J,SAAC,WAClBqJ,EAAMgG,KAAKC,IAAO3P,EAAAA,EAAAA,KAAA,UAAqB4P,SAAWD,EAAIE,OAAO,IAAIF,EAAItI,OAAQiC,EAAeqG,IAAKzF,MAAOyF,EAAIE,OAAO,IAAIF,EAAItI,KAAKhH,SAAEsP,EAAIE,OAAO,IAAIF,EAAItI,MAAtHsI,EAAI3L,eAIhDnD,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,WAAUI,SAAA,EACrBL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBI,UACpCL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,WAAUlP,SAAC,gBAE9BL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,QAAOI,UAClBL,EAAAA,EAAAA,KAAA,UAAQqH,KAAK,cAAcpH,UAAU,uBAAuB+D,GAAG,WAAWpC,SAAUoI,GAAmB3J,SAClGmJ,EAAKkG,KAAKjB,IAAO5N,EAAAA,EAAAA,MAAA,UAAqBqJ,MAAOuE,EAAIzK,GAAI4L,SAAUnB,EAAIpH,OAAOiC,EAAewG,QAAQzP,SAAA,CAAC,IAAEoO,EAAIpH,KAAK,MAA/EoH,EAAIzK,iBAKnDhE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCI,UACnDL,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUI,UACrBQ,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,mCAAkCI,SAAA,EAC7CL,EAAAA,EAAAA,KAAA,MAAAK,SAAI,oBACJL,EAAAA,EAAAA,KAAA,SAAOuP,QAAQ,QAAOlP,UAClBL,EAAAA,EAAAA,KAAA,OACIiE,IAAM2F,GAAyB,gCAAA9I,OAAkCwI,EAAe8B,OAChF2E,IAAI,GACJC,QAtZjCxP,IACnBA,EAAE2F,OAAOlC,IAAMoH,CAAQ,EAsZ6BnL,MArUrC,CACfc,OAAQ,UACRU,aAAc,OACduO,OAAQ,QACRhP,MAAO,cAoUqCjB,EAAAA,EAAAA,KAAA,SAAOqH,KAAK,QAAQ0D,KAAK,OAAO/G,GAAG,QAAQ/D,UAAU,SAAS2B,SAxa3FpB,IACf,IAAI2D,EAAO3D,EAAE2F,OAAO+J,MAAM,GAC1B,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,cAAclM,GACrBoF,GAAiBU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIX,GAAc,IAAEgH,SAASnM,KAChDgM,EAAO3K,OAAS,WACZqE,EAAesG,EAAOI,OAC1B,CAAC,EAia+HC,OAAO,yBAMnH3P,EAAAA,EAAAA,MAAC4P,EAAAA,EAAW,CAAApQ,SAAA,EACRL,EAAAA,EAAAA,KAAA,UAAQC,UAAU,4BAA4B8K,KAAK,SAAS5I,QAASqI,GAAYnK,SAAC,WAGlFL,EAAAA,EAAAA,KAAA,UAAQC,UAAU,8BAA6BI,SAAC,qBAI3DoI,IAAgBzI,EAAAA,EAAAA,KAAA,OAAKC,UAAU,2BAA2BC,MAAO,CAACC,OAAO,KAAMC,IAAI,IAAKC,UACrFL,EAAAA,EAAAA,KAAA,OACIE,MAAO,CACHI,SAAU,SACVtB,SAAU,YAEduB,YAvcCC,IAChBlB,IACLL,GAAY,CACRE,EAAGqB,EAAEC,QAAUjB,GAAOL,EACtBE,EAAGmB,EAAEE,QAAUlB,GAAOH,GACxB,EAmckBsB,UAjcFC,IAAMrB,IAAY,GAicSc,UAEzBQ,EAAAA,EAAAA,MAAA,OACIX,MAAO,CACHlB,SAAU,QACVoB,IAAI,GAADU,OAAK9B,GAASK,EAAC,MAClB0B,KAAK,GAADD,OAAK9B,GAASG,EAAC,MACnB6B,OAAQ1B,GAAW,WAAa,OAChCa,OAAQ,IACRc,MAAM,IACNE,UAAU,SAADL,OAAWlB,GAAK,KACzBsB,OAAO,OACPZ,SAAS,OACTc,gBAAiB,cACnBf,SAAA,EAEFL,EAAAA,EAAAA,KAAA,OACAqB,YAjeHb,IACrBjB,IAAY,GACZE,GAAU,CACNN,EAAGqB,EAAEC,QAAUzB,GAASG,EACxBE,EAAGmB,EAAEE,QAAU1B,GAASK,GAC1B,EA6d0Ba,MAAO,CACHoB,WAAY,OACZC,MAAO,OACPC,QAAS,WACTR,OAAQ,OACRS,UAAW,SACXC,aAAc,eAChBrB,SACL,kBAGGL,EAAAA,EAAAA,KAAC2B,IAAQ,CACLC,SA7dlBpB,GAAK+I,GAAiBU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGX,GAAc,IAAE,CAACb,GAAcjI,KA8dxCkQ,WAAalQ,IACA,WAANA,GAAgBoI,GAAWlG,GAAmB,YAATA,EAAqB,QAAU,WAAW,EAEtFhD,YAAcoC,GAAOpC,EAAYqC,QAAUD,EAC3CE,OAAQ,CACJC,QAAwB,UAAfwG,EAAyB,CAC9B,+BACA,WACD,CACC,sBACA,sBACA,2BACA,uBACA,WAEJkI,MAAO,CACH,sBACA,sBACA,2BACA,uBACA,YAGRjD,QAAS,CACL,SAAS,OACT,SAAS,YACT,UAAU,SAEd/E,WAAYA,KAEpB9H,EAAAA,EAAAA,MAAA,OAAKZ,UAAU,6BAA6BC,MAAO,CAACgC,eAAe,gBAAgBV,QAAQ,YAAYnB,SAAA,EACnGL,EAAAA,EAAAA,KAAA,UAAQC,UAAU,4BAA4BkC,QAASA,KACnDoH,GAAiBU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGX,GAAc,IAAC,CAACb,GAAc,MACpD/I,EAAYqC,QAAQK,YAAY,EACjClC,MAAO,CAACmC,OAAO,kBAAkBhC,SAAC,WACrCL,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAACmC,OAAO,aAAcpC,UAAU,4BAA4BkC,QAASA,IAAMtC,IAAS6C,GAAQF,KAAKC,IAAIC,EAAO,GAAK,MAAMrC,SAAC,OACvIQ,EAAAA,EAAAA,MAAA,QAAAR,SAAA,CAAM,UAAQmC,KAAKG,MAAc,IAAR/C,IAAa,SACtCI,EAAAA,EAAAA,KAAA,UAAQE,MAAO,CAACmC,OAAO,aAAcpC,UAAU,4BAA4BkC,QAASA,IAAMtC,IAAS6C,GAAQF,KAAKK,IAAIH,EAAO,GAAK,KAAIrC,SAAC,OAErIL,EAAAA,EAAAA,KAAA,UAAQmC,QAASA,IAAIuG,EAAgB,IAAKzI,UAAU,4BAA4BC,MAAO,CAACmC,OAAO,kBAAkBhC,SAAC,0BAQ7IxB,IAAWmB,EAAAA,EAAAA,KAAC3B,EAAAA,EAAW,MACrB,C,wHCzkBX,MAuIa+F,EAAgBA,CAACwM,EAASrG,KAMnC,IALA,IAAIsG,EAAMD,EAAQE,MAAM,KACpBC,EAAOF,EAAI,GAAGG,MAAM,WAAW,GAC/BC,EAAOC,KAAKL,EAAIA,EAAInN,OAAS,IAC7ByN,EAAIF,EAAKvN,OACT0N,EAAQ,IAAIC,WAAWF,GACrBA,KACFC,EAAMD,GAAKF,EAAKK,WAAWH,GAE/B,OAAO,IAAII,KAAK,CAACH,GAAQ7G,EAAU,CAACQ,KAAKgG,GAAM,EAUtCS,EAAgBC,IACzB,IAAKA,EAAQ,OAAOA,EACpB,GAAGA,EAAOvN,SAAS,KAAK,CACpB,IAAIwN,EAAK,GAIT,OAHAD,EAAOX,MAAM,KAAKa,SAASC,IACxBF,GAAK,IAAKE,EAAKC,OAAO,GAAGC,cAAgBF,EAAKG,MAAM,EAAE,IAElDL,CACX,CACA,OAAOD,EAAOI,OAAO,GAAGC,cAAgBL,EAAOM,MAAM,EAAE,EAsB9CxE,EAAUyE,IACZ5M,EAAAA,EAAAA,IAAM4M,EACT,CACEC,KAAM,eACN/R,MAAO,CACLwB,aAAc,OACdJ,WAAY,OACZC,MAAO,UAMN2Q,EAAYC,IAGrB,IAAIA,GAAqB,iBAAPA,EACd,OAAOA,EAKQ,KAFnBA,EAAMA,EAAIC,QAAQ,KAAM,KAEhB1O,SACJyO,EAAMA,EAAIrB,MAAM,IAAIpB,KAAI2C,GAAKA,EAAIA,IAAGC,KAAK,KAO7C,MAAO,CAAExQ,EAJC2K,SAAS0F,EAAIJ,MAAM,EAAG,GAAI,IAIxBQ,EAHF9F,SAAS0F,EAAIJ,MAAM,EAAG,GAAI,IAGrBS,EAFL/F,SAAS0F,EAAIJ,MAAM,EAAG,GAAI,IAElB,EAGTU,EAAeC,IAExB,IAAIC,EAAST,EAASQ,GACtB,QAAcpI,IAAXqI,EAAsB,OAAOD,EAChC,MAAM,EAAE5Q,EAAC,EAAEyQ,EAAC,EAAEC,GAAMG,EAMpB,MAHkB,KAAQ7Q,EAAI,KAAQyQ,EAAI,KAAQC,EAG/B,GAAG,EAGnB,SAASI,EAAMC,EAAOC,GACzB,MAAMvC,EAAS,GACf,IAAIsC,EAAO,MAAO,GAF0BxI,UAAA3G,OAAA,QAAA4G,IAAAD,UAAA,IAAAA,UAAA,IAG1BwI,EAAME,QAAQ,CAAC,GACjC,IAAK,IAAItP,EAAI,EAAGA,EAAIoP,EAAMnP,OAAQD,GAAKqP,EAEnCvC,EAAOyC,KAAKH,EAAMd,MAAMtO,EAAGA,EAAIqP,IAEnC,OAAOvC,CACX,CAEO,MAAMrF,EAAWA,CAAC+H,EAAMC,KAE3B,IAAQ,OAAJD,QAAI,IAAJA,OAAI,EAAJA,EAAMvP,QAASwP,EAAW,CAE1B,OADoBD,EAAKE,UAAU,EAAGD,GAAa,KAEvD,CACA,OAAOD,CAAI,EAGFG,EAA2BC,IACpC,MAAMC,EAAO,IAAIC,KAAKF,GAChBG,EAAOF,EAAKG,cACZC,EAAQC,OAAOL,EAAKM,WAAa,GAAGC,SAAS,EAAG,KAChDC,EAAMH,OAAOL,EAAKS,WAAWF,SAAS,EAAG,KACzCG,EAAQL,OAAOL,EAAKW,YAAYJ,SAAS,EAAG,KAC5CK,EAAUP,OAAOL,EAAKa,cAAcN,SAAS,EAAG,KACtCF,OAAOL,EAAKc,cAAcP,SAAS,EAAG,KACtD,MAAM,GAAN/S,OAAU0S,EAAI,KAAA1S,OAAI4S,EAAK,KAAA5S,OAAIgT,EAAG,KAAAhT,OAAIkT,EAAK,KAAAlT,OAAIoT,EAAO,C","sources":["components/pos/SearchBoard.js","helpers/attachments.js","components/products/Products.js","helpers/utils.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport Keyboard from \"react-simple-keyboard\";\r\nimport \"react-simple-keyboard/build/css/index.css\";\r\nimport { useSearch } from '../../contexts/SearchContext';\r\n\r\nexport default function SearchBoard({pos=window.screen.availHeight / 3}) {\r\n\r\n    const {setSearchQuery, focused, setFocused} = useSearch();\r\n    const [position, setPosition] = useState({x: window.screen.availWidth / 3, y: pos });\r\n    const [dragging, setDragging] = useState(false);\r\n    const [offset, setOffset] = useState({  x: 0, y: 0  });\r\n    const onChange = input => setSearchQuery(input)\r\n    const keyboardRef = useRef(null);\r\n    const handleMouseDown = (e) => {\r\n        setDragging(true);\r\n        setOffset({\r\n          x: e.clientX - position.x,\r\n          y: e.clientY - position.y,\r\n        });\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragging) return;\r\n        setPosition({\r\n            x: e.clientX - offset.x,\r\n            y: e.clientY - offset.y,\r\n        });\r\n    }\r\n    const handleMouseUp = () => setDragging(false);\r\n    // handling size \r\n    const [scale, setScale] = useState(localStorage.getItem('_keyboard_scale')??1); // Default scale (1 = 100%)\r\n\r\n    const decrease = () => {\r\n        localStorage.setItem('_keyboard_scale', Math.max(scale - 0.1, 0.5))\r\n        setScale(prev => Math.max(prev - 0.1, 0.5))\r\n    }\r\n    const increase = () => {\r\n        localStorage.setItem('_keyboard_scale', Math.min(JSON.parse(scale) + 0.1, 2))\r\n        setScale(prev => Math.min(JSON.parse(prev) + 0.1, 2))\r\n    }\r\n\r\n    return (\r\n        <div className='mt-4 position-fixed w-50 v-keyboard' style={{zIndex:9999, top:60 }}>\r\n            <div\r\n                style={{\r\n                    overflow: \"hidden\",\r\n                    position: \"relative\",\r\n                }}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n            >\r\n                <div\r\n                    style={{\r\n                        position: \"fixed\",\r\n                        top: `${position.y}px`,\r\n                        left: `${position.x}px`,\r\n                        cursor: dragging ? \"grabbing\" : \"grab\",\r\n                        zIndex: 1000,\r\n                        width:700,\r\n                        resize:'both',\r\n                        overflow:'auto',\r\n                        transform: `scale(${scale})`, transformOrigin: \"top center\"\r\n                    }}\r\n                >\r\n                    <div\r\n                    onMouseDown={handleMouseDown}\r\n                        style={{\r\n                            background: \"#444\",\r\n                            color: \"#fff\",\r\n                            padding: 10,\r\n                            cursor: \"grab\",\r\n                            textAlign: \"center\",\r\n                            borderRadius: \"8px 8px 0 0\",\r\n                        }}\r\n                    >\r\n                        Hold To Drag \r\n                    </div>\r\n                        <Keyboard\r\n                            onChange={onChange}\r\n                            keyboardRef={(r) => (keyboardRef.current = r)}\r\n                            layout={{\r\n                                default: [\r\n                                \"1 2 3 4 5 6 7 8 9 0\",\r\n                                \"q w e r t y u i o p\",\r\n                                \"a s d f g h j k l\",\r\n                                \"z x c v b n m {bksp}\",\r\n                                \"{space}\"\r\n                            ]}}\r\n                        />\r\n                    <div className='bg-white d-flex board-navs' style={{justifyContent:'space-between',padding:'5px 20px'}}>\r\n                        <button className='btn btn-light btn-rounded' \r\n                            onClick={()=>{setSearchQuery('');keyboardRef.current.clearInput()}} \r\n                            style={{border:'1px solid gray'}}>CLEAR</button>\r\n                        <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={decrease}>-</button>\r\n                        <span className='place-content-center'> {Math.round(scale * 100)}% </span>\r\n                        <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={increase}>+</button>\r\n                        <button onClick={()=>setFocused(!focused)} className='btn btn-light btn-rounded' style={{border:'1px solid gray'}}>HIDE</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import $ from 'jquery'\r\nimport toast from 'react-hot-toast';\r\nimport axios from 'axios';\r\nimport { dataURLtoFile } from './utils';\r\n// import html2canvas from 'html2canvas';\r\n// import jsPDF from 'jspdf';\r\nvar Attachments =\r\n{\r\n    messageOrigin: null,\r\n    preview: function(hasData, path)\r\n    {\r\n        // Remove existing elements, we already faced enough errors\r\n        let cModalBody=document.body.querySelectorAll('.attachment-viewer.d-none');\r\n        for (let i = 0; i < cModalBody.length; i++)\r\n        {\r\n            document.body.removeChild(cModalBody[i]);\r\n        }\r\n        \r\n        let singlePixel='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=';\r\n        let oModalBody=document.body.appendChild(document.createElement('div'));\r\n        oModalBody.className='attachment-viewer d-none';\r\n        let oImg=oModalBody.appendChild(document.createElement('div')).appendChild(document.createElement('img'));\r\n        oImg.id=\"image\";\r\n        oImg.src=singlePixel;\r\n        let oUL=oModalBody.appendChild(document.createElement('div')).appendChild(document.createElement('ul'));\r\n        oUL.id='images';\r\n        if(hasData)\r\n        {\r\n            if(hasData[0].includes('application/pdf'))\r\n            {\r\n                let file = dataURLtoFile(hasData[0],'abc.pdf') \r\n                const href = URL.createObjectURL(file)\r\n                const link = document.createElement('a')\r\n                link.href  = href \r\n                link.download=\"filename \"// Don't ignore <3\r\n                document.body.appendChild(link)\r\n                link.click()\r\n                document.body.removeChild(link)\r\n                URL.revokeObjectURL(href)\r\n                //     let payload = new FormData();\r\n                //     payload.append('doc', file);\r\n                //     axios.post('convert-file', payload, {\r\n                //         headers:{\r\n                //             \"Accept\":\"application/json\",\r\n                //             \"Content-Type\": \"multipart/form-data\",\r\n                //             \"Authorization\":\"Bearer \"+localStorage.getItem('auth-token')\r\n                //         }\r\n                //     })\r\n                //     .then(({data})=>{\r\n                //         console.log(data)\r\n                //     })\r\n                //     .catch(err=>console.log(err.message))\r\n                return ;\r\n            }\r\n            Attachments.events.previewCallback(hasData, path)\r\n        } \r\n        else {\r\n                \r\n            /*\r\n            let ids=[docID]; came as array when pdf was converted to jpg(s); returned multiple ids to fetch single image.\r\n                Here is a bit different case, you'll need the Imagick extension to come into play in the backend to get the pdf-image \r\n                id(s). As of now , we are taking only single id of the document(png,jpg).\r\n           \r\n            for (let i = 0; i < ids.length; i++)\r\n            {\r\n                let id= ids[i]; \r\n                axios.get([axios.defaults.baseURL, module,clientID, id].join('/'))\r\n                .then(({data})=>Attachments.events.previewCallback(data))\r\n                .catch(err=>{\r\n                    console.log(err)\r\n                    toast.error('An error occurred!')\r\n                })\r\n            }\r\n            */\r\n        }\r\n    },\r\n    events:\r\n    {\r\n        previewCallback: function (data, onDisk)\r\n        {\r\n            console.log(data,onDisk)\r\n            let oModalBody=document.querySelector('.attachment-viewer.d-none');\r\n            let oUL=document.querySelector('.attachment-viewer.d-none ul');\r\n            const path = process.env.REACT_APP_BACKEND_URI+ 'images/'\r\n            if (data.length === 0) {\r\n                toast.error('Attachment not found!');\r\n            }\r\n        \r\n            for (let i = 0; i < data.length; i++)\r\n            {\r\n                let oImg= oUL.appendChild(document.createElement('li')).appendChild(document.createElement('img'));\r\n                oImg.className='rotate-0';\r\n                oImg.id='image-'+i;\r\n                oImg.classList.add('pending-load');\r\n                oImg.onload=function()\r\n                {\r\n                    this.classList.remove('pending-load');\r\n                    if ($('.attachment-viewer ul li img.pending-load').length === 0)\r\n                    {\r\n                        oModalBody.querySelector('img#image').src= oUL.querySelector('li:first-child img').src;\r\n                        let viewer=new window.Viewer(document.getElementById('images'), {\r\n                            title: false,\r\n                            hide: function(e)\r\n                            {\r\n                                setTimeout(function(viewer) \r\n                                {\r\n                                    let oContainer=document.body.querySelector('div.attachment-viewer');\r\n                                    if(oContainer) {\r\n                                        document.body.removeChild(oContainer);\r\n                                    }\r\n                                }, 1000, e.target.viewer);\r\n                            }\r\n                        });\r\n                        if (viewer.element.querySelectorAll('img').length === 1) {\r\n                            document.body.classList.add('one-image');\r\n                        } else {\r\n                            document.body.classList.remove('one-image');\r\n                        }\r\n                        viewer.show(); \r\n                    }\r\n                }\r\n                oImg.onerror = function() {\r\n                    toast.error('Image not uploaded or is of incorrect format!');\r\n                }; \r\n                \r\n                oImg.src = onDisk? path + data[i]: data[i];\r\n            }\r\n        },\r\n        load: function()\r\n        {\r\n            if (document.querySelector('.loading-modal') === null)\r\n            {\r\n                let oOuterDiv=document.body.appendChild(document.createElement('div'));\r\n                oOuterDiv.className='modal fade loading-modal';\r\n                oOuterDiv.tabIndex='-1';\r\n                oOuterDiv.setAttribute('role', 'dialog');\r\n                oOuterDiv.setAttribute('aria-hidden', 'true');\r\n\r\n                let oDialogDiv=oOuterDiv.appendChild(document.createElement('div'));\r\n                oDialogDiv.className='modal-dialog modal-dialog-centered';\r\n                oDialogDiv.style.width='85px';\r\n\r\n                let oContentDiv=oDialogDiv.appendChild(document.createElement('div'));\r\n                oContentDiv.className='modal-content';\r\n                oContentDiv.appendChild(document.createElement('img')).src='/hub/img/loading.gif';\r\n\r\n                let oAnchor=document.body.appendChild(document.createElement('a'));\r\n                oAnchor.className='d-none loading-modal-trigger';\r\n                oAnchor.dataset.toggle='modal';\r\n                oAnchor.dataset.target='.loading-modal';\r\n            }\r\n        } \r\n    },\r\n    printOnCanvas: async function(id, sFunction)\r\n    { \r\n        let oIframe=document.querySelector('iframe[name=\"_print\"]');\r\n        if (oIframe === null) {\r\n            oIframe=document.createElement('iframe');\r\n            oIframe.name='_print';\r\n            document.body.appendChild(oIframe);\r\n        }\r\n        // oIframe.src=[axios.defaults.baseURL, sFunction, id].join('/');   \r\n        // oIframe.src='http://localhost:3000/#/dashboard';   \r\n        // const input = oIframe.contentDocument || oIframe.contentWindow.document;\r\n        let html = '';\r\n        let {data} = await axios.get('toPdf');\r\n        html = data\r\n        try {\r\n                // const canvas = await html2canvas(html)\r\n                // const imgData = canvas.toDataURL('image/png')\r\n                // const data = new jsPDF({\r\n                //     orientation : 'portrait',\r\n                //     unit : 'px',\r\n                //     format : 'a4',\r\n                // });\r\n                // const width = data.internal.pageSize.getWidth();\r\n                // const height = (canvas.height * width)/ canvas.width;\r\n                // data.addImage(imgData, 'PNG', 0, 0, width, height, '','MEDIUM' )\r\n                // data.save('abc.pdf');\r\n\r\n            } catch (e) {\r\n                console.log(e) \r\n            }\r\n\r\n    }\r\n}\r\n\r\nfunction preview(hasData=null,filename=null, path=false)\r\n{   \r\n    Attachments.preview( hasData, filename, path );\r\n}\r\n \r\nexport { preview }","import React, { useEffect, useRef, useState } from \"react\";\r\nimport $ from \"jquery\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Form, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap'\r\nimport { commonApiSlice, useDeleteProductMutation, useGetProductCategoriesQuery, useGetProductsQuery, useGetTaxesQuery } from \"../../features/centerSlice\";\r\nimport { Warning, wrapText } from \"../../helpers/utils\";\r\nimport toast from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\nimport { preview } from \"../../helpers/attachments\";\r\nimport labelImg from \"../../asset/images/default.png\";\r\nimport { useSearch } from '../../contexts/SearchContext'\r\nimport SearchBoard from \"../pos/SearchBoard\";\r\nimport Keyboard from 'react-simple-keyboard';\r\n\r\nconst Products = () => {\r\n\r\n    const listtableRef = useRef();\r\n    const tableRef = useRef();\r\n    const selectRef = useRef();\r\n    const keyboardRef = useRef();\r\n    const dispatch = useDispatch()\r\n\r\n    const {data:categories, isSuccess:catSuccess} = useGetProductCategoriesQuery();\r\n    const {data:taxess, isSuccess:taxAaGaya} = useGetTaxesQuery();\r\n    const [ deleteProduct ] = useDeleteProductMutation();\r\n    const { searchQuery, setSearchQuery ,focused, setFocused} = useSearch()\r\n    const [ focusedField, setFocusedField ] = useState(null)\r\n    const [ layoutName, setLayout ] = useState(false);\r\n    const [rowData, setRowData] = useState([]);\r\n    const {currency } = useSelector( state=> state.auth );\r\n    const [modal, setModal ] = useState(false);\r\n    const { data, isSuccess } = useGetProductsQuery();\r\n    let [ editingProduct, setEditingProduct ] = useState({});\r\n    const [ cats, setCats ] = useState([]);\r\n    const [ taxes, setTaxes ] = useState([]);\r\n    const [ uploadedSrc, setPlaceholder ] = useState('');\r\n    const [ view, setView] = useState('list');\r\n    const [ scale, setScale ] = useState(1);\r\n    const changeProductField = e => setEditingProduct({ ...editingProduct, [e.target.name]: e.target.value });\r\n\r\n    const [position, setPosition] = useState({ x: window.screen.availWidth/3, y: window.screen.availHeight / 3 });\r\n    const [dragging, setDragging] = useState(false);\r\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n    \r\n    const handleMouseDown = (e) => {\r\n        setDragging(true);\r\n        setOffset({\r\n            x: e.clientX - position.x,\r\n            y: e.clientY - position.y,\r\n        });\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragging) return;\r\n        setPosition({\r\n            x: e.clientX - offset.x,\r\n            y: e.clientY - offset.y,\r\n        });\r\n    }\r\n    const handleMouseUp = () => setDragging(false);\r\n\r\n    const onChange =  e => setEditingProduct({...editingProduct, [focusedField]:e})\r\n\r\n    const handleFile = e => {\r\n        let file = e.target.files[0];\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        setEditingProduct({ ...editingProduct, uploaded:file })\r\n        reader.onload = function() {\r\n            setPlaceholder(reader.result)\r\n        }\r\n    }\r\n\r\n    const refer = e =>{ \r\n        let {img} = e.target.dataset;\r\n        preview([img], true)\r\n    }\r\n    const handleImgError = e => {\r\n        e.target.src = labelImg\r\n    }\r\n\r\n    const handleProductUpdate = async(e) => {\r\n        e.preventDefault();\r\n        let fd = new FormData();\r\n        setEditingProduct({ ...editingProduct, category_id: cats.find(c => c.name === editingProduct['catName']).id })\r\n        for (const key in editingProduct) {\r\n            if(key!=='catName') fd.append(key, editingProduct[key])\r\n        }\r\n        let cat = cats.find( c => c.id === parseInt(editingProduct.category_id)).name\r\n        fd.append('catName', cat)\r\n        try {\r\n            const {data} = await axios.post(`products/update`, fd, {\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    \"Content-Type\" : \"multipart/form-data\",\r\n                    'pos-token' : localStorage.getItem('pos-token')\r\n                }\r\n            });\r\n            if(data.status) {\r\n                toast.success(\"Product updated!\")\r\n                dispatch(\r\n                    commonApiSlice.util.updateQueryData('getProducts', undefined, (draft) => {\r\n                        const {products} = draft\r\n                        const {updated} = data;\r\n                        const index = products.findIndex((item) => item.id === parseInt(updated.id));\r\n                        if (index !== -1) {\r\n                            draft['products'][index] = updated;\r\n                            draft['products'][index]['catName'] = cats.find( c => c.id === updated.category_id).name;    \r\n                        }\r\n                    })\r\n                ); \r\n                dispatch(\r\n                    commonApiSlice.util.updateQueryData('getPosProducts', undefined, draft => {\r\n                        const {products} = draft\r\n                        const {updated} = data;\r\n                        const index = products.findIndex((item) => item.id === parseInt(updated.id));\r\n                        if (index !== -1) draft['products'][index] = updated; // Update the item in the cache\r\n                    })\r\n                )\r\n            } else {\r\n                toast.error(data.message); \r\n            }\r\n        } catch (error) {\r\n            toast.error(`Exception`);\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n  \r\n    const toggleModal = () => {\r\n        setModal(!modal);\r\n        setPlaceholder('')\r\n    }\r\n    const [preset, setPreset] = useState('');\r\n\r\n    const edit = (e) => {\r\n        let {id} = e.target.dataset;\r\n        let product = rowData.find( item => item.id === parseInt(id))\r\n        setEditingProduct(product);\r\n        setModal(true)\r\n    }\r\n\r\n    const search = e => {\r\n        setFocused(true);\r\n        setSearchQuery(e.target.value)\r\n    }\r\n\r\n    const removeProduct = async e => {\r\n        if(window.confirm(\"Are you sure\")) {\r\n            const {id} = e.target.dataset;\r\n            try {\r\n                await deleteProduct({id}).unwrap(); \r\n                dispatch({ type:\"RESET_KART\" }) // the product could be already chosen in one\r\n            } catch (error) {\r\n                console.log(error.message);\r\n            }\r\n        }\r\n    }\r\n\r\n    const labelStyle = {\r\n        cursor: 'pointer',\r\n        borderRadius: '10px',\r\n        height: '145px',\r\n        width: '145px'\r\n    }\r\n\r\n\r\n    useEffect(()=> {\r\n        if(catSuccess){\r\n            setCats(categories.categories)\r\n        }\r\n    },[catSuccess, categories])\r\n\r\n    useEffect(()=> {\r\n        if(taxAaGaya) setTaxes(taxess.taxes);\r\n    },[taxess, taxAaGaya])\r\n\r\n    useEffect(() => {\r\n        if(rowData.length) {\r\n            $(tableRef.current).DataTable({\r\n              data: rowData,\r\n              columns: [\r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name?.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row?.price}\r\n                                        <button class=\"btn btn-sm ms-2 bcode\" style=\"border:1px solid gray\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>    \r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                                \r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }, \r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row.price}\r\n                                        <button class=\"btn btn-sm ms-2 bcode\" style=\"border:1px solid gray\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>    \r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                                \r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }, \r\n                { \r\n                    title: \"\",\r\n                    render: (data, type, row) => {\r\n                        return `<div class=\"card-body d-flex grid-view\">\r\n                            <div class=\"col-9 d-block\" >\r\n                                <div class=\"row\">\r\n                                    <strong class=\"wrapped-text\">${wrapText(row.name, 50)}<span class=\"${row.name.length > 28? 'tooltiptext':`d-none`}\">${row.name}</span></strong>\r\n                                </div>\r\n                                <div class=\"row mt-2\" >\r\n                                    <p> Price: ${currency+' '+row.price}\r\n                                        <button class=\"btn btn-sm ms-2 bcode\" style=\"border:1px solid gray\" >\r\n                                            <i class=\"fa-solid fa-barcode\" style=\"font-size:1rem\"></i>\r\n                                        </button>\r\n                                    </p>\r\n                                </div> \r\n                            </div>\r\n                            <div class=\"col-3 text-center position-relative\">\r\n                                <img src=\"http://localhost:5100/images/${row.image}\" onerror=\"this.src='${labelImg}'\" alt=''/>\r\n                                <div class='image-container d-none' style=\"background-image:url(http://localhost:5100/images/${row.image}); background-size:cover;background-repeat:no-repeat\" />\r\n                            </div>\r\n                        </div>`\r\n                    }\r\n                }\r\n              ],\r\n              searching: true,\r\n              info: true,\r\n              processing:true,\r\n              ordering: true,\r\n              lengthMenu:[ 10,25,50]\r\n            });\r\n            $(tableRef.current).on('click', '.image-container', e => refer(e))\r\n            $(tableRef.current).on('click', '.bcode.btn', e => printBarcode(e.target.dataset.code))\r\n        }\r\n        $.fn.DataTable.ext.errMode = 'none';\r\n        return () => {\r\n            $(tableRef.current).off('click', '.image-container')\r\n            $(tableRef.current).off('click', '.bcode.btn')\r\n            $(tableRef.current).DataTable().destroy();\r\n        }\r\n\r\n      }, [view, rowData]);\r\n\r\n    useEffect(() => {\r\n        if(rowData.length) {\r\n            $(listtableRef.current).DataTable().destroy();\r\n            $(listtableRef.current).DataTable({\r\n                data: rowData,\r\n                columns: [\r\n                    /*\r\n                    \r\n                    Action*/\r\n                    { data: \"name\", title: \"Name\" },\r\n                    { data: \"catName\", title: \"Category\" },\r\n                    { \r\n                        data: null, \r\n                        title: \"Price\",\r\n                        render: (data,type, row) => {\r\n                            return `${currency} ${row.price}`\r\n                        }\r\n                    },\r\n                    { data: \"code\", title: \"Barcode\" },\r\n                    { data: \"weight\", title: \"Weight\" },\r\n                    {   \r\n                        data: null, \r\n                        title: \"Description\",\r\n                        render: (data, type, row) => {\r\n                            return `\r\n                                <p class=\"wrapped-text\">\r\n                                    ${wrapText(row.sales_desc??'', 25)}\r\n                                    <span class=\"${row.sales_desc?.length > 28? 'tooltiptext':`d-none`}\">${row.sales_desc}</span>\r\n                                </p>\r\n                            `\r\n                        }\r\n                    },\r\n                    {   \r\n                        data: null,\r\n                        title: \"Image\",\r\n                        render: (data, type, row) => {\r\n                            return `<div class=\"position-relative img\">\r\n                                <img \r\n                                    class='img-fluid img-thumbnail'\r\n                                    src=\"http://localhost:5100/images/${row.image}\" \r\n                                    alt=''\r\n                                    data-img=\"${row.image}\"\r\n                                    onerror=\"this.src='${labelImg}'\"\r\n                                />\r\n                            </div>`\r\n                        },\r\n\r\n                    },\r\n                    {\r\n                      data: null, // No direct data, render custom content\r\n                      title: \"Actions\",\r\n                      render: (data, type, row) => {\r\n                        return `\r\n                          <button class=\"edit-list btn btn-success btn-sm btn-rounded\" data-id=\"${row.id}\">Edit</button>\r\n                          <button class=\"barcode-list btn btn-success btn-sm btn-rounded\" data-code=\"${row.code}\">Barcode</button>\r\n                          <button class=\"delete-list btn btn-danger btn-sm btn-rounded\" data-id=\"${row.id}\">Delete</button>\r\n                        `;\r\n                      },\r\n                    },\r\n                ],\r\n                paging: true,\r\n                searching: true,\r\n                processing:true,\r\n                info: true,\r\n                ordering: true,\r\n                lengthMenu:[ 10,25,50]\r\n            });\r\n\r\n            $(listtableRef.current).on('click', '.edit-list.btn', e => {\r\n                edit(e)\r\n            })\r\n            $(listtableRef.current).on('click', '.barcode-list.btn', e => printBarcode(e.target.dataset.code))\r\n            $(listtableRef.current).on('click', '.delete-list.btn', e => removeProduct(e))\r\n            $(listtableRef.current).on('click', '.img-thumbnail', e => refer(e))\r\n            $(listtableRef.current).on('keyup', 'input[type=\"search\"]', e => search(e))\r\n            $('.dt-input').on('click', ()=> setFocused(true))\r\n        }\r\n        $.fn.DataTable.ext.errMode = 'none';\r\n        return () => {\r\n            $(listtableRef.current).off('click', '.barcode-list.btn');\r\n            $(listtableRef.current).off('click', '.delete-list.btn');\r\n            $(listtableRef.current).off('click', '.img-thumbnail');\r\n            $(listtableRef.current).off('keyup', 'input[type=\"search\"]');\r\n            $(listtableRef?.current).DataTable().destroy()\r\n        }\r\n\r\n    }, [view, rowData]);\r\n\r\n    useEffect(()=>{\r\n        $('.dt-input').val(searchQuery).trigger('keyup')\r\n        return () => setSearchQuery('')\r\n    },[searchQuery])\r\n\r\n    useEffect(()=> {\r\n        keyboardRef.current?.setInput(preset)\r\n    },[preset])\r\n\r\n    const handleView = view => {\r\n        if(view==='grid') {\r\n            $(listtableRef.current).DataTable().destroy();\r\n        } else {\r\n            $(tableRef.current).DataTable().destroy();\r\n        }\r\n        setView(view)\r\n    }\r\n\r\n    const printBarcode = (code) => {\r\n        if(window.electronAPI) {\r\n            window.electronAPI.generateBarcode(code)\r\n        } else {\r\n            Warning(\"Connect to a printer first!\")\r\n        }\r\n    }\r\n   \r\n    useEffect(()=> {\r\n        if(isSuccess)\r\n        { \r\n            setRowData(data.products)\r\n        }\r\n        return ()=> setRowData([])\r\n    },[isSuccess, data])\r\n  \r\n    return (\r\n        <> \r\n        <div className=\"row w-100 h-100 mt-4\"> \r\n            <div className=\"col-lg-12 grid-margin stretch-card\"> \r\n                <div className=\"card\">\r\n                    <div className=\"card-header\" >\r\n                            <div style={{display:'flex',alignItems:'end',justifyContent:'space-between'}}>\r\n                            <div/> \r\n                            <div className=\"d-flex flex-end\" style={{width:'140px',justifyContent:'space-around',alignItems:'center'}}>\r\n                                <button type=\"button\" className={`btn btn-outline-light btn-sm`} style={{ backgroundColor:view==='grid' && '#55aaad', color: view=== 'grid' && '#fff' }} onClick={()=>handleView('grid')} > Grid </button>\r\n                                <button type=\"button\" className={`btn btn-outline-light btn-sm`} style={{ backgroundColor:view==='list' && '#55aaad',color: view=== 'list' &&'#fff' }} onClick={()=>handleView('list')} > List </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body table-responsive\">\r\n                        {view==='list' && <table className='table' ref={listtableRef} />}\r\n                        {view === 'grid' && <table ref={tableRef} className='table grid-view' />}\r\n                        {rowData.length ===0 && <h3>No products yet..</h3>}\r\n                    </div>\r\n                   \r\n                    <Modal isOpen={modal} toggle={toggleModal} className=\"modal-md\" > \r\n                        <Form onSubmit={handleProductUpdate} id=\"updateForm\">\r\n                            <ModalHeader > Update Product </ModalHeader>\r\n                                <ModalBody >\r\n                                    <div className=\"col-md-12 d-flex justify-content-center\">\r\n                                        <div className=\"col-md-6\">\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"name\">Name</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" id=\"name\" name=\"name\" className=\"form-control\" onChange={changeProductField} \r\n                                                    value={editingProduct.name} onClick={()=>{setFocusedField('name');setPreset(editingProduct.name)}}/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"price\">Price</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" id=\"price\" name=\"price\" pattern=\"^\\d+(\\.\\d+)?$\" title=\"price should be in numbers\" className=\"form-control\" value={ editingProduct.price } onChange={changeProductField} \r\n                                                    placeholder={currency}\r\n                                                    onClick={()=>{setFocusedField('price');setPreset(editingProduct.price)}}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"barcode\"> Barcode </label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <input type=\"text\" name=\"code\" value={editingProduct.code} \r\n                                                        onChange={changeProductField} \r\n                                                        className=\"form-control\" \r\n                                                        id=\"barcode\" \r\n                                                        onClick={()=>{setFocusedField('code');setPreset(editingProduct.code)}}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"tax\">Tax</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <select name=\"tax\" ref={selectRef} className=\"form-control select2\" id=\"tax\" onChange={changeProductField}>\r\n                                                        <option value={''}>Choose</option>\r\n                                                        {taxes.map( tax => <option key={tax.id} selected={(tax.amount+' '+tax.name)===editingProduct.tax} value={tax.amount+' '+tax.name}>{tax.amount+' '+tax.name}</option>)}\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"col-4 align-self-center\">\r\n                                                    <label htmlFor=\"category\">Category</label>\r\n                                                </div>\r\n                                                <div className=\"col-8\">\r\n                                                    <select name=\"category_id\" className=\"form-control select2\" id=\"category\" onChange={changeProductField}>\r\n                                                        {cats.map( cat => <option key={cat.id} value={cat.id} selected={cat.name===editingProduct.catName}> {cat.name} </option>)}\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-4 offset-1 align-content-center\">\r\n                                            <div className=\"row mt-2\">\r\n                                                <div className=\"form-group position-relative img\">\r\n                                                    <h5> Update Image </h5>\r\n                                                    <label htmlFor=\"image\">\r\n                                                        <img \r\n                                                            src={ uploadedSrc ? uploadedSrc :`http://localhost:5100/images/${editingProduct.image}`} \r\n                                                            alt=\"\"\r\n                                                            onError={handleImgError} \r\n                                                            style={labelStyle}  \r\n                                                        />\r\n                                                    </label>\r\n                                                    <input name=\"image\" type=\"file\" id=\"image\" className=\"d-none\" onChange={handleFile} accept=\"image/*\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </ModalBody>\r\n                            <ModalFooter>\r\n                                <button className=\"btn btn-light btn-rounded\" type=\"button\" onClick={toggleModal}>\r\n                                    Close\r\n                                </button>\r\n                                <button className=\"btn btn-success btn-rounded\"> Update </button>\r\n                            </ModalFooter> \r\n                        </Form>\r\n                    </Modal>\r\n                    {focusedField && <div className='mt-4 position-fixed w-50' style={{zIndex:9999, top:60 }}>\r\n                        <div\r\n                            style={{\r\n                                overflow: \"hidden\",\r\n                                position: \"relative\",\r\n                            }}\r\n                            onMouseMove={handleMouseMove}\r\n                            onMouseUp={handleMouseUp}\r\n                            >\r\n                            <div\r\n                                style={{\r\n                                    position: \"fixed\",\r\n                                    top: `${position.y}px`,\r\n                                    left: `${position.x}px`,\r\n                                    cursor: dragging ? \"grabbing\" : \"grab\",\r\n                                    zIndex: 1000,\r\n                                    width:700,\r\n                                    transform: `scale(${scale})`,\r\n                                    resize:'both',\r\n                                    overflow:'auto',\r\n                                    transformOrigin: \"top center\"\r\n                                }}\r\n                            >\r\n                                <div\r\n                                onMouseDown={handleMouseDown}\r\n                                    style={{\r\n                                        background: \"#444\",\r\n                                        color: \"#fff\",\r\n                                        padding: \"5px 10px\",\r\n                                        cursor: \"grab\",\r\n                                        textAlign: \"center\",\r\n                                        borderRadius: \"8px 8px 0 0\",\r\n                                    }}\r\n                                >\r\n                                    Hold To Drag \r\n                                </div>\r\n                                    <Keyboard\r\n                                        onChange={onChange}\r\n                                        onKeyPress={(e) => {\r\n                                            if(e === \"{lock}\") setLayout((prev) => (prev === \"default\" ? \"shift\" : \"default\"))\r\n                                        }}\r\n                                        keyboardRef={(r) => (keyboardRef.current = r)}\r\n                                        layout={{\r\n                                            default: focusedField==='price' ? [\r\n                                                \"1 2 3 4 5 6 7 8 9 0 . {bksp}\",\r\n                                                \"{space}\"\r\n                                            ]: [\r\n                                                \"1 2 3 4 5 6 7 8 9 0\",\r\n                                                \"q w e r t y u i o p\",\r\n                                                \"{lock} a s d f g h j k l\",\r\n                                                \"z x c v b n m {bksp}\",\r\n                                                \"{space}\"\r\n                                            ],\r\n                                            shift: [\r\n                                                \"1 2 3 4 5 6 7 8 9 0\",\r\n                                                \"Q W E R T Y U I O P\",\r\n                                                \"{lock} A S D F G H J K L\",\r\n                                                \"Z X C V B N M {bksp}\",\r\n                                                \"{space}\"\r\n                                            ]\r\n                                        }}\r\n                                        display={{\r\n                                            \"{lock}\":\"Caps\",\r\n                                            \"{bksp}\":\"Backspace\",\r\n                                            \"{space}\":\"Space\"\r\n                                        }}\r\n                                        layoutName={layoutName}\r\n                                    />\r\n                                <div className='bg-white d-flex board-navs' style={{justifyContent:'space-between',padding:'5px 20px'}}>\r\n                                    <button className='btn btn-light btn-rounded' onClick={()=>{\r\n                                        setEditingProduct({...editingProduct,[focusedField]:''})\r\n                                        keyboardRef.current.clearInput()\r\n                                    }} style={{border:'1px solid gray'}}>CLEAR</button>\r\n                                    <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={() => setScale(prev => Math.max(prev - 0.1, 0.5))}>-</button>\r\n                                    <span> Size: {Math.round(scale * 100)}% </span>\r\n                                    <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={() => setScale(prev => Math.min(prev + 0.1, 2))}>+</button>\r\n\r\n                                    <button onClick={()=>setFocusedField('')} className='btn btn-light btn-rounded' style={{border:'1px solid gray'}}>HIDE</button>\r\n                                </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        {focused && <SearchBoard />}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Products\r\n","import $ from 'jquery'\r\nimport toast from 'react-hot-toast';\r\nconst daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\nexport const validate = (fields,exceptions=[]) => {\r\n    let result={}\r\n    var shouldGo=true;\r\n    if(exceptions.length)\r\n    {\r\n        exceptions.forEach( item => {\r\n            delete fields[item]\r\n        })\r\n    }\r\n    Object.keys(fields).forEach(f =>\r\n    {\r\n        let shout = '';\r\n        let invalid = false;\r\n        let tInputs = [$(`input[name=${f}]`), $(`select[name=${f}]`), $(`textarea[name=${f}]`), $(`.${f}`)]\r\n        if(fields[f]==null || fields[f].length===0)\r\n        {\r\n            result[f]=`Required!`;\r\n            shouldGo=false;\r\n            invalid = true;\r\n        }\r\n        tInputs.forEach( input => {\r\n\r\n            let minLength = $(input).attr('type')!== 'date' ? $(input).attr('min'): 0;\r\n            let maxLength = $(input).attr('max');\r\n            let type = $(input).attr('cast');\r\n            let isDate = $(input).attr('type')==='date' && $(input).attr('req');\r\n            if($(input).val()?.length && (minLength || maxLength))\r\n            {\r\n                if($(input).val().length < parseInt(minLength))\r\n                { \r\n                    invalid = true;\r\n                    shout = `Should be of at least ${minLength} characters!`\r\n                    result[f] = shout;\r\n                }\r\n                if($(input).val().length > parseInt(maxLength))\r\n                { \r\n                    invalid = true;\r\n                    shout = `Should not be greater than ${maxLength} characters!`;\r\n                    result[f] = shout;\r\n                }\r\n            }\r\n            if(type)\r\n            { \r\n                if(input.val() && type === 'num')\r\n                {\r\n                    if(parseInt($(input).val().length )!== $(input).val().length) {\r\n                        shout= `Should be in numbers!`;\r\n                        invalid = true;\r\n                        result[f]= shout; \r\n                    }\r\n                }\r\n                if( $(input).val() && type=== 'str' )\r\n                {\r\n                    if( /^([^0-9]*)$/.test($(input).val())===false )\r\n                    {\r\n                        shout= `Should not contain numbers!`;\r\n                        invalid = true;\r\n                        result[f]= shout; \r\n                    }\r\n                }\r\n            }\r\n            if(isDate)\r\n            {\r\n                if(!isValidDate($(input).val(),18))\r\n                {\r\n                    invalid = true\r\n                    shout = 'Invalid date';\r\n                    result[f] = shout;\r\n                } else {\r\n                    shout = '';\r\n                }\r\n                // return\r\n            }\r\n            if(shout)   \r\n            {\r\n                if($(input).parents('.col-md-12, .col').find('small.text-danger').length)\r\n                {\r\n                    $(input).parents('.col-md-12, .col').find('small.text-danger').text(shout)\r\n                } else {\r\n                    $(input).parents('.col-md-12, .col').append('<small class=\"text-danger\">'+shout+'</small>')\r\n                }\r\n            } else {\r\n                $(input).parents('.col-md-12, .col').find('small.text-danger').remove()\r\n            }\r\n            if(invalid){\r\n                shouldGo = false;\r\n                $(input).addClass('placeholder-error')\r\n                .attr('placeholder',result[f]).css('border','1px solid red');\r\n            } else {\r\n                $(input).removeClass('placeholder-error').attr('placeholder',result[f]).css('border','');\r\n            }\r\n        })\r\n    })\r\n    return {result, shouldGo};\r\n}\r\n\r\nexport const getCurrentDate = (delimiter='-') => {\r\n    const today = new Date();\r\n    const year = today.getFullYear();\r\n    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based\r\n    const day = String(today.getDate()).padStart(2, '0');\r\n    return `${year+delimiter+month+delimiter+day}`;\r\n}\r\n\r\nexport const formatDate = (date=null,format='Ymd') => {\r\n    const dateObj = date?new Date(date): new Date();\r\n    const year = dateObj.getFullYear();\r\n    const month = String(dateObj.getMonth() + 1).padStart(2, '0'); // Months are 0-based\r\n    const day = String(dateObj.getDate()).padStart(2, '0');\r\n    if(format[0]==='Y')\r\n    {\r\n        return `${year}-${month}-${day}`;\r\n    }\r\n    if(format[0]==='d')\r\n    {\r\n        return `${day}-${month}-${year}`;\r\n    }\r\n}\r\n\r\nexport const getCurrentDay = () => {\r\n    return daysOfWeek[(new Date()).getDay()];\r\n}\r\n\r\nexport const getCurrentTime = () => {\r\n    const currentDate = new Date();\r\n    const hours = String(currentDate.getHours()).padStart(2, '0');\r\n    const minutes = String(currentDate.getMinutes()).padStart(2, '0');\r\n    const seconds = String(currentDate.getSeconds()).padStart(2, '0');\r\n    return `${hours}:${minutes}:${seconds}`;\r\n}\r\nexport const toBase64 = blob => {\r\n\r\n}\r\n\r\nexport const dataURLtoFile = (dataurl, filename) => {\r\n    var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[arr.length - 1]), \r\n        n = bstr.length, \r\n        u8arr = new Uint8Array(n);\r\n    while(n--){\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, {type:mime});\r\n}\r\n\r\nexport const isValidDate = ( date, range ) => {\r\n    let today = getCurrentDate();\r\n    let year = today.split('-')[0];\r\n    let intended = new Date(today.replace(year, (parseInt(year)-range)));\r\n    return intended > new Date(date)\r\n}\r\n\r\nexport const capitalFirst = (string) => {\r\n    if (!string) return string; // Handle empty or null strings\r\n    if(string.includes(' ')){\r\n        let str= '';\r\n        string.split(' ').forEach( part => {\r\n           str+=' '+ part.charAt(0).toUpperCase() + part.slice(1); \r\n        })\r\n        return str;\r\n    }\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport const getDocumentName = id => {\r\n\r\n    const documents = {\r\n        1 : 'VISIT PHOTO',\r\n        2 : 'AADHAAR CARD',\r\n        3 : 'VOTER CARD',\r\n        4 : 'GROUP PHOTO',\r\n        5 : 'CGT_FIRST',\r\n        6 : 'CGT_SECOND',\r\n        7 : 'CIBIL',\r\n        8 : 'SANCTION LETTER',\r\n        9 : 'KYC',\r\n        10 : 'BANK PASSBOOK',\r\n        11 : 'RELATION PROOF DOCUMENT',\r\n    }\r\n    return documents[id];\r\n    \r\n}\r\n\r\nexport const Warning = msg => {\r\n    return toast(msg,\r\n        {\r\n          icon: '',\r\n          style: {\r\n            borderRadius: '10px',\r\n            background: '#333',\r\n            color: '#fff',\r\n          },\r\n        }\r\n    );\r\n}\r\n\r\nexport const hexToRgb = (hex) => {\r\n    // Remove the '#' if present\r\n\r\n    if(!hex || typeof hex == 'object'){\r\n        return hex\r\n    }\r\n\r\n    hex = hex.replace(/^#/, '');\r\n    // Convert shorthand hex (e.g., #03F) to full form (e.g., #0033FF)\r\n    if (hex.length === 3) {\r\n        hex = hex.split('').map(h => h + h).join('');\r\n    }\r\n    // Convert hex to RGB\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n\r\n    return { r, g, b };\r\n}\r\n\r\nexport const isColorDark = (hexColor) => {\r\n    // Convert hex color to RGB\r\n    let output = hexToRgb(hexColor)\r\n    if(output === undefined) return hexColor\r\n    const { r, g, b } = output\r\n\r\n    // Calculate the luminance\r\n    const luminance = 0.299 * r + 0.587 * g + 0.114 * b;\r\n\r\n    // Return true if the color is dark, else false\r\n    return luminance < 128;\r\n}\r\n\r\nexport function chunk(array, size, uncategorized = false) {\r\n    const result = [];\r\n    if(!array) return []\r\n    if(uncategorized) array.unshift({})\r\n    for (let i = 0; i < array.length; i += size) {\r\n        // Use slice to get a chunk of the specified size and push it to the result array\r\n        result.push(array.slice(i, i + size));\r\n    }\r\n    return result;\r\n}\r\n\r\nexport const wrapText = (text, maxLength) => {\r\n\r\n    if (text?.length > maxLength) {\r\n        let truncatedText = text.substring(0, maxLength) + '...';\r\n        return truncatedText;\r\n    }\r\n    return text\r\n}\r\n\r\nexport const formatDatefromTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-based\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const hours = String(date.getHours()).padStart(2, '0');\r\n    const minutes = String(date.getMinutes()).padStart(2, '0');\r\n    const seconds = String(date.getSeconds()).padStart(2, '0');\r\n    return `${year}-${month}-${day} ${hours}:${minutes}`;\r\n};\r\n  "],"names":["SearchBoard","_ref","_localStorage$getItem","pos","window","screen","availHeight","setSearchQuery","focused","setFocused","useSearch","position","setPosition","useState","x","availWidth","y","dragging","setDragging","offset","setOffset","keyboardRef","useRef","scale","setScale","localStorage","getItem","_jsx","className","style","zIndex","top","children","overflow","onMouseMove","e","clientX","clientY","onMouseUp","handleMouseUp","_jsxs","concat","left","cursor","width","resize","transform","transformOrigin","onMouseDown","background","color","padding","textAlign","borderRadius","Keyboard","onChange","input","r","current","layout","default","justifyContent","onClick","clearInput","border","decrease","setItem","Math","max","prev","round","increase","min","JSON","parse","Attachments","messageOrigin","preview","hasData","path","cModalBody","document","body","querySelectorAll","i","length","removeChild","oModalBody","appendChild","createElement","oImg","id","src","includes","file","dataURLtoFile","href","URL","createObjectURL","link","download","click","revokeObjectURL","events","previewCallback","data","onDisk","console","log","querySelector","oUL","toast","error","classList","add","onload","this","remove","$","viewer","Viewer","getElementById","title","hide","setTimeout","oContainer","target","element","show","onerror","process","load","oOuterDiv","tabIndex","setAttribute","oDialogDiv","oContentDiv","oAnchor","dataset","toggle","printOnCanvas","async","sFunction","oIframe","name","html","axios","get","Products","listtableRef","tableRef","selectRef","dispatch","useDispatch","categories","isSuccess","catSuccess","useGetProductCategoriesQuery","taxess","taxAaGaya","useGetTaxesQuery","deleteProduct","useDeleteProductMutation","searchQuery","focusedField","setFocusedField","layoutName","setLayout","rowData","setRowData","currency","useSelector","state","auth","modal","setModal","useGetProductsQuery","editingProduct","setEditingProduct","cats","setCats","taxes","setTaxes","uploadedSrc","setPlaceholder","view","setView","changeProductField","_objectSpread","value","refer","img","arguments","undefined","filename","toggleModal","preset","setPreset","useEffect","DataTable","columns","render","type","row","_row$name","wrapText","price","image","labelImg","searching","info","processing","ordering","lengthMenu","on","printBarcode","code","ext","errMode","off","destroy","_row$sales_desc","_row$sales_desc2","sales_desc","paging","product","find","item","parseInt","edit","confirm","unwrap","message","removeProduct","search","val","trigger","_keyboardRef$current","setInput","handleView","electronAPI","generateBarcode","Warning","products","_Fragment","display","alignItems","backgroundColor","ref","Modal","isOpen","Form","onSubmit","preventDefault","fd","FormData","category_id","c","key","append","cat","post","headers","status","success","commonApiSlice","util","updateQueryData","draft","updated","index","findIndex","ModalHeader","ModalBody","htmlFor","pattern","placeholder","map","tax","selected","amount","catName","alt","onError","height","files","reader","FileReader","readAsDataURL","uploaded","result","accept","ModalFooter","onKeyPress","shift","dataurl","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","capitalFirst","string","str","forEach","part","charAt","toUpperCase","slice","msg","icon","hexToRgb","hex","replace","h","join","g","b","isColorDark","hexColor","output","chunk","array","size","unshift","push","text","maxLength","substring","formatDatefromTimestamp","timestamp","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","getSeconds"],"sourceRoot":""}