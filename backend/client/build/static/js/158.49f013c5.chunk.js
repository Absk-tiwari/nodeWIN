"use strict";(self.webpackChunkpos=self.webpackChunkpos||[]).push([[158],{5158:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var a=r(9722),n=r(5043),s=r(3003),c=r(8613),l=r.n(c),o=r(8595),i=r(3768),d=r(579);const u=function(){const t=(0,n.useRef)(null),[e,r]=(0,n.useState)([]);return(0,s.wA)(),(0,n.useEffect)((()=>{a.A.get("orders/reports").then((t=>{let{data:e}=t;r(e.reports)})).catch((()=>{}))}),[]),(0,n.useEffect)((()=>(l()(t.current).DataTable({data:e,columns:[{title:"ID",data:"id"},{title:"Generated On",data:null,render:t=>(0,o.Y6)(t.date)},{title:"Action",data:null,render:t=>'<a target="_blank" class="text-decoration-none" href="http://localhost:5100/images/'.concat(t.path,'" download type="button" data-index="').concat(e.indexOf(t),'">View</a>\n                <span data-id="').concat(t.id,'" class=" ms-4 btn btn-sm text-danger btn-rounded del">Delete</span>')}],paging:!0,searching:!0,info:!0,ordering:!1,pageLength:40}),l()(t.current).on("click",".del",(function(t){const n=this.dataset.id;a.A.get("orders/remove-report/".concat(n)).then((t=>{let{data:a}=t;a.status?(i.Ay.success(a.message),r(e.filter((t=>t.id!==parseInt(n))))):i.Ay.error(a.message)})).catch((()=>i.Ay.error("Something went wrong!")))})),()=>{l()(t.current).off("click",".del"),l()(t.current).DataTable().destroy()})),[e]),(0,d.jsx)("div",{className:"content-wrapper",style:{width:"100%"},children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:(0,d.jsx)("div",{className:"card mt-5",children:(0,d.jsx)("div",{className:"card-body",children:(0,d.jsx)("div",{className:"table-responsive",children:(0,d.jsx)("table",{className:"table table-hover table-bordered",ref:t})})})})})})})}},8595:(t,e,r)=>{r.d(e,{C1:()=>d,E2:()=>l,N5:()=>c,Xz:()=>n,Y6:()=>u,f:()=>p,iv:()=>i,sN:()=>o,x5:()=>s});r(8613);var a=r(3768);const n=(t,e)=>{for(var r=t.split(","),a=r[0].match(/:(.*?);/)[1],n=atob(r[r.length-1]),s=n.length,c=new Uint8Array(s);s--;)c[s]=n.charCodeAt(s);return new File([c],e,{type:a})},s=t=>{if(!t)return t;if(t.includes(" ")){let e="";return t.split(" ").forEach((t=>{e+=" "+t.charAt(0).toUpperCase()+t.slice(1)})),e}return t.charAt(0).toUpperCase()+t.slice(1)},c=t=>(0,a.Ay)(t,{icon:"\u26a0\ufe0f",style:{borderRadius:"10px",background:"#333",color:"#fff"}}),l=t=>{if(!t||"object"==typeof t)return t;3===(t=t.replace(/^#/,"")).length&&(t=t.split("").map((t=>t+t)).join(""));return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}},o=t=>{let e=l(t);if(void 0===e)return t;const{r:r,g:a,b:n}=e;return.299*r+.587*a+.114*n<128};function i(t,e){const r=[];if(!t)return[];arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&t.unshift({});for(let a=0;a<t.length;a+=e)r.push(t.slice(a,a+e));return r}const d=(t,e)=>{if((null===t||void 0===t?void 0:t.length)>e){return t.substring(0,e)+"..."}return t},u=t=>{const e=new Date(t),r=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0");String(e.getSeconds()).padStart(2,"0");return"".concat(r,"-").concat(a,"-").concat(n," ").concat(s,":").concat(c)},p=t=>parseFloat(t).toFixed(2)}}]);
//# sourceMappingURL=158.49f013c5.chunk.js.map