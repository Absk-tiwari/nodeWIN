{"version":3,"file":"static/js/17.a83ed079.chunk.js","mappings":"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","sources":["components/auth/Login.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport logo from '../../asset/images/logo.png';\r\nimport axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function Login() {\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch(); \r\n\r\n    const keyboardRef = useRef()\r\n    const [fields, setFields] = useState({email:'',password:''})\r\n    const onchange = e => setFields({...fields, [e.target.name]:e.target.value})\r\n    const [ scale, setScale ] = useState(localStorage.getItem('_keyboard_scale')??1)\r\n    const decrease = () => {\r\n        localStorage.setItem('_keyboard_scale', Math.max(scale - 0.1, 0.5))\r\n        setScale(prev => Math.max(prev - 0.1, 0.5))\r\n    }\r\n    const increase = () => {\r\n        localStorage.setItem('_keyboard_scale', Math.min(JSON.parse(scale) + 0.1, 2))\r\n        setScale(prev => Math.min(JSON.parse(prev) + 0.1, 2))\r\n    }\r\n\r\n    const [focused, setFocused] = useState('')\r\n    const [ preset, setPreset ] = useState('')\r\n    const [layoutName, setLayout] = useState('default')\r\n    const handleLogin = async(event) => {\r\n        event.preventDefault() \r\n        dispatch({ type:'LOADING' })\r\n        try {\r\n            axios.post(`auth/login`, fields ).then( async ({ data }) => {  \r\n            if( data.authToken ) {\r\n\r\n                localStorage.setItem('pos-token', data.authToken )\r\n                localStorage.setItem('pos-user', JSON.stringify(data.user))\r\n\r\n                dispatch({ type:'SET_TOKEN', payload: data.authToken }) \r\n                dispatch({ type:'SET_AUTH', payload: data.user })  \r\n                dispatch({ type:'SET_ADMIN_STATUS', payload: data.user.type==='admin' })\r\n                dispatch({ type:'SET_CURRENCY', payload: data.currency })\r\n                return navigate('/dashboard')\r\n\r\n            }}).catch(()=>{\r\n                toast.error('Invalid credentials!') \r\n                localStorage.clear()\r\n            }).finally(() => dispatch({ type:'STOP_LOADING' }))\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n            localStorage.clear()\r\n        }\r\n\r\n    }  \r\n    const inputStyle = {borderRadius:'50px'}\r\n    const [position, setPosition] = useState({ x: window.screen.availWidth/1.55, y: window.screen.availHeight / 4 });\r\n    const [dragging, setDragging] = useState(false);\r\n    const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n    \r\n    const handleMouseDown = (e) => {\r\n        setDragging(true);\r\n        setOffset({\r\n            x: e.clientX - position.x,\r\n            y: e.clientY - position.y,\r\n        });\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        if (!dragging) return;\r\n        setPosition({\r\n            x: e.clientX - offset.x,\r\n            y: e.clientY - offset.y,\r\n        });\r\n    }\r\n    const handleMouseUp = () => setDragging(false);\r\n\r\n    const onChange =  e => {\r\n        setFields({...fields, [focused]:e})\r\n    }\r\n    useEffect(()=>{\r\n        keyboardRef.current?.clearInput()\r\n    },[preset])\r\n\r\n    return (\r\n        <> \r\n            <div className=\"container-scroller\">\r\n                <div className=\"container-fluid page-body-wrapper auth full-page-wrapper\">\r\n                    <div className=\"content-wrapper d-flex align-items-center auth px-0\">\r\n                    <div className=\"row w-100 mx-0\">\r\n                        <div className=\"col-lg-4\" style={{marginLeft:'26%'}}>\r\n                        <div className=\"auth-form-light text-left py-5 px-4 px-sm-5\" style={{borderRadius:'12px'}}>\r\n                            <center><img src={logo} alt=\"logo\" height={100} width={150}/></center>\r\n                            <h4> Hello!</h4>\r\n                            <h6 className=\"fw-light\"> Sign in to continue. </h6>\r\n                            <form className=\"pt-3\" onSubmit={handleLogin} method=\"POST\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"email\" \r\n                                        name=\"email\" \r\n                                        style={inputStyle} \r\n                                        className=\"form-control form-control-lg\" \r\n                                        placeholder=\"Enter email\" \r\n                                        onChange={onchange}\r\n                                        value={fields.email}\r\n                                        onClick={()=>{\r\n                                            setFocused('email');\r\n                                            setPreset('')\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" \r\n                                        name=\"password\"\r\n                                        style={inputStyle} \r\n                                        className=\"form-control form-control-lg\" \r\n                                        placeholder=\"Password\"\r\n                                        onChange={onchange} \r\n                                        onClick={()=> {\r\n                                            setFocused('password')\r\n                                            setPreset('sd')\r\n                                        }}\r\n                                        defaultValue={fields.password}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"mt-3 d-grid gap-2\">\r\n                                    <button className=\"btn btn-block btn-primary btn-lg fw-medium auth-form-btn\" style={inputStyle} type=\"submit\">SIGN IN</button>\r\n                                </div>\r\n                                <div className=\"my-2 d-flex justify-content-center align-items-center\">\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {focused && <div className='mt-4 position-fixed w-50' style={{zIndex:9999, top:60 }}>\r\n                <div\r\n                    style={{\r\n                        overflow: \"hidden\",\r\n                        position: \"relative\",\r\n                        touchAction:'none'\r\n                    }}\r\n                    onMouseMove={handleMouseMove}\r\n                onTouchMove={handleMouseMove}\r\n                    onMouseUp={handleMouseUp}\r\n                onTouchEnd={handleMouseUp}\r\n                    >\r\n                    <div\r\n                        style={{\r\n                            position: \"fixed\",\r\n                            top: `${position.y}px`,\r\n                            left: `${position.x}px`,\r\n                            cursor: dragging ? \"grabbing\" : \"grab\",\r\n                            zIndex: 1000,\r\n                            width:700,\r\n                            resize:'both',\r\n                            touchAction:'none',\r\n                            overflow:'auto',\r\n                            transform: `scale(${scale})`, transformOrigin: \"top center\"\r\n                        }}\r\n                    >\r\n                        <div\r\n                        onMouseDown={handleMouseDown}\r\n                        onTouchStart={handleMouseDown}\r\n                            style={{\r\n                                background: \"#444\",\r\n                                color: \"#fff\",\r\n                                padding: 10,\r\n                                cursor: \"grab\",\r\n                                textAlign: \"center\",\r\n                                borderRadius: \"8px 8px 0 0\",\r\n                                touchAction:'none'\r\n                            }}\r\n                        >\r\n                            Hold To Drag \r\n                        </div>\r\n                            <Keyboard\r\n                                onChange={onChange}\r\n                                onKeyPress={(e) => {\r\n                                    if(e === \"{lock}\")\r\n                                    {\r\n                                        setLayout((prev) => (prev === \"default\" ? \"shift\" : \"default\"))\r\n                                    }\r\n                                }}\r\n                                keyboardRef={(r) => (keyboardRef.current = r)}\r\n                                layout={{\r\n                                    default:[\r\n                                        \"1 2 3 4 5 6 7 8 9 0\",\r\n                                        \"! @ # $ % ^ & * {bksp}\",\r\n                                        \"q w e r t y u i o p\",\r\n                                        \"{lock} a s d f g h j k l\",\r\n                                        \"z x c v b n m .\",\r\n                                        \"{space}\"\r\n                                    ],\r\n                                    shift: [\r\n                                        \"1 2 3 4 5 6 7 8 9 0\",\r\n                                        \"! @ # $ % ^ & * {bksp}\",\r\n                                        \"Q W E R T Y U I O P\",\r\n                                        \"{lock} A S D F G H J K L\",\r\n                                        \"Z X C V B N M .\",\r\n                                        \"{space}\"\r\n                                    ]\r\n                                }}\r\n                                display={{\r\n                                    \"{lock}\":\"Caps\",\r\n                                    \"{bksp}\":\"Backspace\",\r\n                                    \"{space}\":\"Space\"\r\n                                }}\r\n                                layoutName={layoutName}\r\n                            />\r\n                        <div className='bg-white d-flex board-navs' style={{justifyContent:'space-between',padding:'5px 20px'}}>\r\n                            <button className='btn btn-light btn-rounded' onClick={()=>{\r\n                                setFields({...fields,[focused]:''})\r\n                            }} style={{border:'1px solid gray'}}>CLEAR</button>\r\n                            <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={decrease}>-</button>\r\n                            <span style={{placeContent:'center'}}> Size: {Math.round(scale * 100)}% </span>\r\n                            <button style={{border:'1px solid'}} className='btn btn-light btn-rounded' onClick={increase}>+</button>\r\n\r\n                            <button onClick={()=>setFocused('')} className='btn btn-light btn-rounded' style={{border:'1px solid gray'}}>HIDE</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n        </>\r\n  )\r\n}\r\n"],"names":["Login","_localStorage$getItem","navigate","useNavigate","dispatch","useDispatch","keyboardRef","useRef","fields","setFields","useState","email","password","onchange","e","_objectSpread","target","name","value","scale","setScale","localStorage","getItem","focused","setFocused","preset","setPreset","layoutName","setLayout","inputStyle","borderRadius","position","setPosition","x","window","screen","availWidth","y","availHeight","dragging","setDragging","offset","setOffset","handleMouseDown","clientX","clientY","handleMouseMove","handleMouseUp","useEffect","_keyboardRef$current","current","clearInput","_jsxs","_Fragment","children","_jsx","className","style","marginLeft","src","logo","alt","height","width","onSubmit","async","event","preventDefault","type","axios","post","then","data","_ref","authToken","setItem","JSON","stringify","user","payload","currency","catch","toast","error","clear","finally","console","log","method","placeholder","onChange","onClick","defaultValue","zIndex","top","overflow","touchAction","onMouseMove","onTouchMove","onMouseUp","onTouchEnd","concat","left","cursor","resize","transform","transformOrigin","onMouseDown","onTouchStart","background","color","padding","textAlign","Keyboard","onKeyPress","prev","r","layout","default","shift","display","justifyContent","border","decrease","Math","max","placeContent","round","increase","min","parse"],"sourceRoot":""}